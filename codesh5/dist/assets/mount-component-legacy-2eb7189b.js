System.register(["./index-legacy-89a34e7c.js"],(function(e,o){"use strict";var t,n,a,l,s,r,c,i,u,d,v,p,f,m,h,y,b,w,I,g,O,k,x,S,z,C,A,B,L,P,E,X,Y,j,R,T;return{setters:[e=>{t=e.bg,n=e.ba,a=e.O,l=e.a3,s=e.L,r=e.e,c=e.n,i=e.t,u=e.a4,d=e.p,v=e.i,p=e.ai,f=e.ac,m=e.ay,h=e.c,y=e.d,b=e.a,w=e.au,I=e.J,g=e.ap,O=e.$,k=e.a0,x=e.w,S=e.a8,z=e.f,C=e.ae,A=e.q,B=e.ao,L=e.V,P=e.aZ,E=e.H,X=e.h,Y=e.av,j=e.I,R=e.aU,T=e.W}],execute:function(){function o(e,{args:o=[],done:a,canceled:l}){if(e){const s=e.apply(null,o);t(s)?s.then((e=>{e?a():l&&l()})).catch(n):s?a():l&&l()}else a()}e({a:V,c:o,d:function(){const e=T({show:!1}),o=o=>{e.show=o},t=t=>{r(e,t,{transitionAppear:!0}),o(!0)},n=()=>o(!1);return $({open:t,close:n,toggle:o}),{open:t,close:n,state:e,toggle:o}},m:function(e){const o=R(e),t=document.createElement("div");return document.body.appendChild(t),{instance:o.mount(t),unmount(){o.unmount(),document.body.removeChild(t)}}},o:function(e){const o=a(H,null);o&&l(o,(o=>{o&&e()}))},u:$});const H=Symbol();function $(e){const o=s();o&&r(o.proxy,e)}let D=2e3;const M=e("p",{show:Boolean,zIndex:c,overlay:i,duration:c,teleport:[String,Object],lockScroll:i,lazyRender:i,beforeClose:Function,overlayStyle:Object,overlayClass:u,transitionAppear:Boolean,closeOnClickOverlay:i});function V(){const e=d(0),o=d(0),t=d(0),n=d(0),a=d(0),l=d(0),s=d(""),r=()=>{t.value=0,n.value=0,a.value=0,l.value=0,s.value=""};return{move:r=>{const c=r.touches[0];var i,u;t.value=(c.clientX<0?0:c.clientX)-e.value,n.value=c.clientY-o.value,a.value=Math.abs(t.value),l.value=Math.abs(n.value),(!s.value||a.value<10&&l.value<10)&&(s.value=(i=a.value,u=l.value,i>u?"horizontal":u>i?"vertical":""))},start:t=>{r(),e.value=t.touches[0].clientX,o.value=t.touches[0].clientY},reset:r,startX:e,startY:o,deltaX:t,deltaY:n,offsetX:a,offsetY:l,direction:s,isVertical:()=>"vertical"===s.value,isHorizontal:()=>"horizontal"===s.value}}e("b",Object.keys(M));let N=0;const q="van-overflow-hidden";function F(e){const o=d(!1);return l(e,(e=>{e&&(o.value=e)}),{immediate:!0}),e=>()=>o.value?e():null}const[J,K]=h("overlay"),U={show:Boolean,zIndex:c,duration:c,className:u,lockScroll:i,lazyRender:i,customStyle:Object};var W=y({name:J,props:U,setup(e,{slots:o}){const t=d(),n=F((()=>e.show||!e.lazyRender))((()=>{var n;const a=r(I(e.zIndex),e.customStyle);return g(e.duration)&&(a.animationDuration=`${e.duration}s`),O(b("div",{ref:t,style:a,class:[K(),e.className]},[null==(n=o.default)?void 0:n.call(o)]),[[k,e.show]])}));return v.useEventListener("touchmove",(o=>{e.lockScroll&&m(o,!0)}),{target:t}),()=>b(w,{name:"van-fade",appear:!0},{default:n})}});const Z=x(W),G=r({},M,{round:Boolean,position:S("center"),closeIcon:S("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:S("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Q,_]=h("popup");var ee=y({name:Q,inheritAttrs:!1,props:G,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:a}){let s,r;const c=d(),i=d(),u=F((()=>e.show||!e.lazyRender)),h=z((()=>{const o={zIndex:c.value};return g(e.duration)&&(o["center"===e.position?"animationDuration":"transitionDuration"]=`${e.duration}s`),o})),y=()=>{s||(s=!0,c.value=void 0!==e.zIndex?+e.zIndex:++D,t("open"))},I=()=>{s&&o(e.beforeClose,{done(){s=!1,t("close"),t("update:show",!1)}})},x=o=>{t("clickOverlay",o),e.closeOnClickOverlay&&I()},S=()=>{if(e.overlay)return b(Z,{show:e.show,class:e.overlayClass,zIndex:c.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:x},{default:a["overlay-content"]})},R=e=>{t("clickCloseIcon",e),I()},T=()=>{if(e.closeable)return b(j,{role:"button",tabindex:0,name:e.closeIcon,class:[_("close-icon",e.closeIconPosition),Y],classPrefix:e.iconPrefix,onClick:R},null)};let M;const J=()=>{M&&clearTimeout(M),M=setTimeout((()=>{t("opened")}))},K=()=>t("closed"),U=e=>t("keydown",e),W=u((()=>{var o;const{round:t,position:l,safeAreaInsetTop:s,safeAreaInsetBottom:r}=e;return O(b("div",X({ref:i,style:h.value,role:"dialog",tabindex:0,class:[_({round:t,[l]:l}),{"van-safe-area-top":s,"van-safe-area-bottom":r}],onKeydown:U},n),[null==(o=a.default)?void 0:o.call(a),T()]),[[k,e.show]])})),G=()=>{const{position:o,transition:t,transitionAppear:n}=e;return b(w,{name:t||("center"===o?"van-fade":`van-popup-slide-${o}`),appear:n,onAfterEnter:J,onAfterLeave:K},{default:W})};return l((()=>e.show),(e=>{e&&!s&&(y(),0===n.tabindex&&C((()=>{var e;null==(e=i.value)||e.focus()}))),!e&&s&&(s=!1,t("close"))})),$({popupRef:i}),function(e,o){const t=V(),n=o=>{t.move(o);const n=t.deltaY.value>0?"10":"01",a=v.getScrollParent(o.target,e.value),{scrollHeight:l,offsetHeight:s,scrollTop:r}=a;let c="11";0===r?c=s>=l?"00":"01":r+s>=l&&(c="10"),"11"===c||!t.isVertical()||parseInt(c,2)&parseInt(n,2)||m(o,!0)},a=()=>{document.addEventListener("touchstart",t.start),document.addEventListener("touchmove",n,{passive:!1}),N||document.body.classList.add(q),N++},s=()=>{N&&(document.removeEventListener("touchstart",t.start),document.removeEventListener("touchmove",n),N--,N||document.body.classList.remove(q))},r=()=>o()&&s();v.onMountedOrActivated((()=>o()&&a())),p(r),f(r),l(o,(e=>{e?a():s()}))}(i,(()=>e.show&&e.lockScroll)),v.useEventListener("popstate",(()=>{e.closeOnPopstate&&(I(),r=!1)})),A((()=>{e.show&&y()})),B((()=>{r&&(t("update:show",!0),r=!1)})),p((()=>{e.show&&e.teleport&&(I(),r=!0)})),L(H,(()=>e.show)),()=>e.teleport?b(P,{to:e.teleport},{default:()=>[S(),G()]}):b(E,null,[S(),G()])}});e("P",x(ee))}}}));
