import"./el-tag-bb37520c.js";import{v as F}from"./el-loading-058736ba.js";import{E as M,a as S}from"./el-table-column-e7723258.js";import"./el-popper-bc5dd8e2.js";import{_ as L,E as U,u as G,r as b,a as Y,o as V,t as E,b as T,c as y,d as o,i,L as Z,e as O,w as P,a9 as x,F as H,f$ as Q,g0 as f,N as z,p as W,h as j}from"./index-f6cc9116.js";/* empty css              */import{g as B,d as X}from"./pickWithRecordQuery-2a0d16cd.js";import{_ as J}from"./btn_fanhui1-37aac388.js";import{_ as K}from"./btn_tichu-bca5bbb8.js";import{a as R,s as q}from"./function-call-60b671e7.js";import"./use-global-config-d508bae4.js";import"./objects-61eeff04.js";const $="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA8CAYAAADRy2JxAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjlEN0M4NzUwNUU5MTFFQUJFM0RFQTM1MEQ3QTRDRjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjlEN0M4NzYwNUU5MTFFQUJFM0RFQTM1MEQ3QTRDRjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGOUQ3Qzg3MzA1RTkxMUVBQkUzREVBMzUwRDdBNENGNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGOUQ3Qzg3NDA1RTkxMUVBQkUzREVBMzUwRDdBNENGNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhTaGmQAAAKMSURBVHja7Jq7SxxBHMd3Tz0QUSysLHwgYkDEJpVFNFhYaCFqYyUpBLEQ/AOEiDapok2w8P6As0tIIShYXiOo+MQXAUUl+IT4Or3bfAd/h8vieTu3r/H8/eAD59zN7H6c387OzK5uGIb2XkNneZZneZZn+efoBCOgDCRf+D4E8sFv8BUcm777CL6DijR104Vo8w8YAium8nIwBtpAIk2bOjgEo2Du1aMI+QysGPajz1L3p+Esopb2BiTqxjK5hWz0QqnN3joFJ5ayTXCfZVbegS1L2V9wabN+qRtpvw+q6XMcLIJlSs1UiopGZin1H011i8AgqKHfyKT9NvgBbk3lYdADPlPap9pM0jE+gUIqWwMNTtN+35RKu6DCRp0gKAbrpnNddSPtzXEODhQdvOOEVHrJxCON7CpGWNZHVl7Ppft8SHvHwfIsz/Isz/Isn+Ph1mytEbTTQibpcWf9owXUqgryYqNiEjT72Gkt4As4CjrtxQ5Prc8Z+0Fin8HTnt8A30AfnVDCQ+k8cAEiYE8FebHjMkXXYVhy00I2dNoZOrBsmgQ64MVpx4dvdSzP8izP8rk8vU1Ndgp9uNXdgDNV5EX29IJuUOLD3P4KRMGMCvL1YBxU+Zix4phLYCfoa/6GVlp+xjXNLAPveTHHFo+SO3yc2//SXHhy5NaAtwBioMCHAS+uZf/k17PR/s6NVOT7PMuzPMuzPMuzfGDyhscLFyfxIHtuduR1y6QooXBHhtOcd9YzPPM/SLzrFqHppUrv54gOqbSsLDO62XkJcR60vsFLehr0O5VvoVVU8RsSF2v9Lu3p5WVH8iK9m8AwqKO/DUWv+XvK1AnNxkNMft+e5Vme5Vme5XM8/gswAHLRRWx4YfPzAAAAAElFTkSuQmCC";const ee={setup(){U();const c=G(),s=b([]),g=Y(),l=b(""),m=b(!0),_=b(null),A=`
                    <path class="path" d="
                      M 30 15
                      L 28 17
                      M 25.61 25.61
                      A 15 15, 0, 0, 1, 15 30
                      A 15 15, 0, 1, 1, 27.99 7.5
                      L 15 15
                    " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>`;V(()=>{let e=document.body.scrollHeight-170;l.value="height:"+e+"px",t=E(g.state.pickWithRecordQuery),u()});let t="";const N=()=>{c.push({path:"/pickWithRecordQuery"})};let a="";const d=(e,n,r)=>{a=E(e)},C=()=>{if(a){let e=_.value.$refs.bodyWrapper.getElementsByClassName("el-scrollbar__wrap")[0];g.commit("setPickWithRecordScroll",e.scrollTop),console.log(e.scrollTop);let n=a.F_PICKNO;c.push({name:"pickWithRecordInfoData",query:{pickno:n}})}else return R({title:"提示",width:"600",message:"请选择一条数据"}).then(()=>{}),!1},k=()=>{if(a){if(a.F_PICKSTATE!=0)return R({title:"提示",width:"600",message:"已装车，不能删除"}).then(()=>{}),!1;q({title:"提示",width:"600",message:"确定删除车号为"+a.F_TRUCKNO+"的记录？"}).then(()=>{Q({duration:0,forbidClick:!0,message:"撤销中..."});let e={};e.F_PICKNO=a.F_PICKNO,e.F_SUTTLE=a.F_SUTTLE,e.F_DELIVERYNO=a.F_DELIVERYNO,X(e).then(n=>{f(),R({title:"提示",width:"600",message:n.data.message}).then(()=>{g.commit("setPickWithRecordScroll",0),u()})}).catch(n=>{console.log(n)})}).catch(e=>{f(),console.log(e)})}else return R({title:"提示",width:"600",message:"请选择一条数据"}).then(()=>{}),!1},u=()=>{a="",m.value=!0,B(t).then(e=>{s.value=e.data.data,m.value=!1,setTimeout(()=>{_.value.setScrollTop(E(g.state.pickWithRecordScroll))},0)})},I=(e,n,r,p)=>typeof r>"u"?"":v("YYYY-mm-dd",r),v=(e,n)=>{let r,p=new Date(n);const w={"Y+":p.getFullYear().toString(),"m+":(p.getMonth()+1).toString(),"d+":p.getDate().toString(),"H+":p.getHours().toString(),"M+":p.getMinutes().toString(),"S+":p.getSeconds().toString()};for(let D in w)r=new RegExp("("+D+")").exec(e),r&&(e=e.replace(r[1],r[1].length==1?w[D]:w[D].padStart(r[1].length,"0")));return e};return{tableData:s,tableRef:_,svg:A,loading:m,tableHeight:l,formatDate:I,dateFormat:v,onDelete:k,onClickLeft:N,selectRow:d,showDetail:C,queryData:u}}},h=c=>(W("data-v-a4f10b1a"),c=c(),j(),c),te={class:"table-content container",id:"content"},oe={class:"btn-area"},le=h(()=>i("img",{src:J},null,-1)),ae=h(()=>i("div",null,"返回",-1)),ie=[le,ae],se=h(()=>i("img",{src:K},null,-1)),ne=h(()=>i("div",null,"删除",-1)),re=[se,ne],ce=h(()=>i("img",{src:$},null,-1)),de=h(()=>i("div",null,"明细",-1)),pe=[ce,de];function he(c,s,g,l,m,_){const A=z,t=S,N=M,a=F;return T(),y(H,null,[o(A,{title:"拣配单查询结果",class:"page-nav-bar","left-arrow":"",onClickLeft:l.onClickLeft},null,8,["onClickLeft"]),i("div",te,[Z((T(),O(N,{data:l.tableData,ref:"tableRef",style:x(l.tableHeight),"highlight-current-row":"","element-loading-text":"数据加载中...","element-loading-spinner":l.svg,"element-loading-svg-view-box":"-10, -10, 50, 50","element-loading-background":"rgba(122, 122, 122, 0.8)",onRowClick:l.selectRow},{default:P(()=>[o(t,{fixed:"",prop:"F_PICKDATE",label:"拣配日期",width:"100px",formatter:l.formatDate},null,8,["formatter"]),o(t,{prop:"F_TRUCKNO",label:"车号"}),o(t,{prop:"F_RECIVE",label:"收货单位",width:"100px"}),o(t,{prop:"F_PICKSTATE_NAME",label:"拣配状态",width:"100px"}),o(t,{prop:"F_CONTRACT",label:"合同号"}),o(t,{prop:"F_DELIVERYNO",label:"发货单号",width:"110px"}),o(t,{prop:"F_RECIVE",label:"收货单位",width:"100px"}),o(t,{prop:"F_PRODUCTCODE",label:"产品编码",width:"110px"}),o(t,{prop:"F_PRODUCTNAME",label:"产品名称",width:"100px"}),o(t,{prop:"F_BATCHGROUP",label:"批次号",width:"100px"}),o(t,{prop:"F_UNIT",label:"计量单位",width:"90px"}),o(t,{prop:"F_SUTTLE",label:"重量"}),o(t,{prop:"F_COUNT",label:"数量"}),o(t,{prop:"F_STORENAME",label:"仓库"}),o(t,{prop:"F_CONTENT",label:"备注"}),o(t,{prop:"F_PICKPERSON",label:"拣配人"})]),_:1},8,["data","style","element-loading-spinner","onRowClick"])),[[a,l.loading]]),i("div",oe,[i("div",{onClick:s[0]||(s[0]=(...d)=>l.onClickLeft&&l.onClickLeft(...d))},ie),i("div",{onClick:s[1]||(s[1]=(...d)=>l.onDelete&&l.onDelete(...d))},re),i("div",{onClick:s[2]||(s[2]=(...d)=>l.showDetail&&l.showDetail(...d))},pe)])])],64)}const Te=L(ee,[["render",he],["__scopeId","data-v-a4f10b1a"]]);export{Te as default};
