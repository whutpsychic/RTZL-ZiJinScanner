System.register(["./mount-component-legacy-2eb7189b.js","./index-legacy-89a34e7c.js"],(function(e,o){"use strict";var n,t,s,a,l,i,c,r,d,u,p,y,m,g,v,f,k,h,C,w,b,S,x,O;return{setters:[e=>{n=e.P,t=e.m,s=e.d},e=>{a=e.c,l=e.d,i=e.a3,c=e.q,r=e.b3,d=e.a,u=e.h,p=e.a5,y=e.a8,m=e.n,g=e.aQ,v=e.a4,f=e.I,k=e.ax,h=e.ap,C=e.e,w=e.ah,b=e.M,S=e.p,x=e.L,O=e.w}],execute:function(){e("s",H);let o=0;const[B,T]=a("toast"),z=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],P={icon:String,show:Boolean,type:y("text"),overlay:Boolean,message:m,iconSize:m,duration:g(2e3),position:y("middle"),teleport:[String,Object],wordBreak:String,className:v,iconPrefix:String,transition:y("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:v,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var j=l({name:B,props:P,emits:["update:show"],setup(e,{emit:t,slots:s}){let a,l=!1;const y=()=>{const n=e.show&&e.forbidClick;l!==n&&(l=n,l?(o||document.body.classList.add("van-toast--unclickable"),o++):o&&(o--,o||document.body.classList.remove("van-toast--unclickable")))},m=e=>t("update:show",e),g=()=>{e.closeOnClick&&m(!1)},v=()=>clearTimeout(a),C=()=>{const{icon:o,type:n,iconSize:t,iconPrefix:s,loadingType:a}=e;return o||"success"===n||"fail"===n?d(f,{name:o||n,size:t,class:T("icon"),classPrefix:s},null):"loading"===n?d(k,{class:T("loading"),size:t,type:a},null):void 0},w=()=>{const{type:o,message:n}=e;return s.message?d("div",{class:T("text")},[s.message()]):h(n)&&""!==n?"html"===o?d("div",{key:0,class:T("text"),innerHTML:String(n)},null):d("div",{class:T("text")},[n]):void 0};return i((()=>[e.show,e.forbidClick]),y),i((()=>[e.show,e.type,e.message,e.duration]),(()=>{v(),e.show&&e.duration>0&&(a=setTimeout((()=>{m(!1)}),e.duration))})),c(y),r(y),()=>d(n,u({class:[T([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:g,onClosed:v,"onUpdate:show":m},p(e,z)),{default:()=>[C(),w()]})}});let L=[],M=!1,N=C({},{icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1});const U=new Map;function q(e){return b(e)?e:{message:e}}function E(){if(!L.length||M){const e=function(){const{instance:e,unmount:o}=t({setup(){const e=S(""),{open:o,state:n,close:t,toggle:a}=s(),l=()=>{};return i(e,(e=>{n.message=e})),x().render=()=>d(j,u(n,{onClosed:l,"onUpdate:show":a}),null),{open:o,close:t,message:e}}});return e}();L.push(e)}return L[L.length-1]}function H(e={}){if(!w)return{};const o=E(),n=q(e);return o.open(C({},N,U.get(n.type||N.type),n)),o}const I=e=>o=>H(C({type:e},q(o)));e("a",I("loading")),e("b",I("fail")),e("c",(e=>{L.length&&(e?(L.forEach((e=>{e.close()})),L=[]):L[0].close())})),O(j)}}}));
