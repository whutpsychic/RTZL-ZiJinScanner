System.register(["./el-tag-legacy-cf3cc70f.js","./el-overlay-legacy-83951446.js","./index-legacy-f9152eff.js","./el-card-legacy-d42ea1a3.js","./index-legacy-2f76a666.js","./qualityCheckingRecord-legacy-23c5b15e.js","./index-legacy-eda59a38.js","./index-legacy-fcd4d1d3.js","./index-legacy-c3f1f91b.js","./use-global-config-legacy-03ba079a.js","./objects-legacy-af642898.js"],(function(e,t){"use strict";var a,l,n,i,o,s,d,r,c,u,p,y,g,h,f,m,b,k,v,w,D,x,C,j,L,I,S,_,q,J,F,N,V;return{setters:[null,e=>{a=e.E},e=>{l=e._,n=e.u,i=e.r,o=e.E,s=e.H,d=e.I,r=e.o,c=e.b,u=e.c,p=e.i,y=e.d,g=e.w,h=e.F,f=e.N,m=e.a8,b=e.a9,k=e.M,v=e.e,w=e.j,D=e.V,x=e.f,C=e.W,j=e.ab,L=e.Z,I=e.U,S=e.p,_=e.h,q=e.$},e=>{J=e.E},null,e=>{F=e.a,N=e.q},null,e=>{V=e.E},null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".header[data-v-e026a30a]{width:100%;height:110px;line-height:110px;position:absolute;z-index:5;top:0}.content[data-v-e026a30a]{width:100%;overflow:scroll;top:110px;position:absolute;z-index:10;bottom:5px}\n",document.head.appendChild(t);const R={setup(){const e=n(),t=i(""),a=i(!1),l=o({qualityCheckingList:[],yjtJyInformationData:{},yjtJyInformationDecideDataList:[],filePathList:[]}),c=i(!1),u=i(!1),p=i(!1),y=i(10),g=i(0);s.await("scanner",(t=>{"/qualityCheckingRecord"==e.currentRoute.value.path&&("null"!=t?(l.qualityCheckingList=[],g.value=1,p.value=!0,f({batchnumber:"",barcode:t})):d({message:"数据获取失败",type:"fail",className:"particulars-detail-popup"}))})),r((()=>{g.value=1,f({batchnumber:t.value,barcode:""})}));const h=e=>{N(e).then((e=>{l.yjtJyInformationDecideDataList=e.data.data})).catch((e=>{console.log(e)}))},f=e=>{u.value=!0;let t={},a={},n={};n.limit=y.value,n.offset=g.value,n.blockId="paramBlock",n.data=e,a.paramBlock=n,t.blocks=a,F(t).then((e=>{l.qualityCheckingList=[...l.qualityCheckingList,...e.data.blocks.resultBlock.data],u.value=!1,l.qualityCheckingList.length==e.data.blocks.resultBlock.total&&(p.value=!0)})).catch((e=>{console.log(e)}))};return{showImage:c,centerDialogVisible:a,searchValue:t,loading:u,finished:p,limit:y,offset:g,listData:l,onClickLeft:()=>{e.push({path:"/home"})},onLoad:()=>{g.value=g.value+1,f({batchnumber:t.value,barcode:""})},statusChange:()=>{g.value=1,l.qualityCheckingList=[],p.value=!1,f({batchnumber:t.value,barcode:""})},dateFormat:(e,t)=>{let a,l=new Date(t);const n={"Y+":l.getFullYear().toString(),"m+":(l.getMonth()+1).toString(),"d+":l.getDate().toString(),"H+":l.getHours().toString(),"M+":l.getMinutes().toString(),"S+":l.getSeconds().toString()};for(let i in n)a=new RegExp("("+i+")").exec(e),a&&(e=e.replace(a[1],1==a[1].length?n[i]:n[i].padStart(a[1].length,"0")));return e},onSearch:()=>{g.value=1,l.qualityCheckingList=[],p.value=!1,f({batchnumber:t.value,barcode:""})},qualityCheckingRecordDetails:e=>{if(l.yjtJyInformationData=e,"1"==e.state){let t={yjtJyInformationId:e.id,status:"2"};h(t)}a.value=!0},scanClick:()=>{s.scan()},seeImg:e=>{l.filePathList=[],l.filePathList=e,c.value=!0},getQualityCheckingRecordDecide:h,getQualityCheckingRecord:f}}},Y=e=>(S("data-v-e026a30a"),e=e(),_(),e),M={class:"header"},H={style:{display:"flex","background-color":"#ffffff"}},U={id:"content",class:"content"},z={style:{padding:"0px 5px 5px 5px"}},E=Y((()=>p("span",{style:{"font-weight":"bold"}},"编号：",-1))),P=Y((()=>p("span",{style:{"font-weight":"bold"}},"重量：",-1))),B={key:0,style:{"margin-left":"30px"}},Q={key:0},O={key:1},W={key:2},Z={style:{padding:"15px","overflow-y":"auto","overscroll-behavior-y":"contain",height:"calc(100vh - 180px)"}},$=Y((()=>p("span",{style:{"font-weight":"bold"}},"编号：",-1))),A=Y((()=>p("span",{style:{"font-weight":"bold"}},"重量：",-1))),G=Y((()=>p("span",{style:{"font-weight":"bold"}},"标准：",-1))),K=Y((()=>p("span",{style:{"font-weight":"bold"}},"计量员：",-1))),T=Y((()=>p("span",{style:{"font-weight":"bold"}},"扫描人：",-1))),X=Y((()=>p("span",{style:{"font-weight":"bold"}},"生产日期：",-1))),ee={key:0},te=Y((()=>p("span",{style:{"font-weight":"bold"}},"是否最新：",-1))),ae=Y((()=>p("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),le={key:0,style:{"font-weight":"bold"}},ne=Y((()=>p("span",{style:{"font-weight":"bold"}},"质检时间：",-1))),ie=Y((()=>p("span",{style:{"font-weight":"bold"}},"质检人：",-1))),oe={key:0},se=Y((()=>p("span",{style:{"font-weight":"bold"}},"改判理由：",-1))),de={key:1},re=Y((()=>p("span",{style:{"font-weight":"bold"}},"备注：",-1))),ce={key:2};e("default",l(R,[["render",function(e,t,l,n,i,o){const s=C,d=f,r=m,S=V,_=j,F=J,N=b,R=L,Y=q,ue=I,pe=a;return c(),u(h,null,[p("div",M,[y(d,{title:"质检记录列表",class:"page-nav-bar","left-arrow":"",onClickLeft:n.onClickLeft},{right:g((()=>[y(s,{onClick:n.scanClick,style:{color:"#FFFFFF"},name:"scan",size:"40"},null,8,["onClick"])])),_:1},8,["onClickLeft"]),p("div",H,[y(r,{style:{width:"100%"},modelValue:n.searchValue,"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchValue=e),shape:"round",placeholder:"请输入编号搜索",onSearch:n.onSearch},null,8,["modelValue","onSearch"])])]),p("div",U,[y(N,{loading:n.loading,"onUpdate:loading":t[1]||(t[1]=e=>n.loading=e),finished:n.finished,"immediate-check":!1,"finished-text":"没有更多了",onLoad:n.onLoad},{default:g((()=>[p("div",z,[(c(!0),u(h,null,k(n.listData.qualityCheckingList,((e,t)=>(c(),v(F,{class:"box-card",shadow:"always",style:{"margin-top":"5px"},onClick:t=>n.qualityCheckingRecordDetails(e)},{default:g((()=>[p("div",null,[p("p",null,[E,p("span",null,w(e.batchnumber),1)]),p("p",null,[P,p("span",null,w(parseFloat(e.suttle))+w(e.unit),1),e.exteriorName?(c(),u("span",B,["优等品"==e.exteriorName?(c(),u("span",Q,[y(S,null,{default:g((()=>[D(w(e.exteriorName),1)])),_:2},1024)])):x("",!0),"合格"==e.exteriorName?(c(),u("span",O,[y(S,{type:"warning"},{default:g((()=>[D(w(e.exteriorName),1)])),_:2},1024)])):x("",!0),"不合格"==e.exteriorName?(c(),u("span",W,[y(S,{type:"danger"},{default:g((()=>[D(w(e.exteriorName),1)])),_:2},1024)])):x("",!0)])):x("",!0)]),"0"==e.state?(c(),v(_,{key:0,type:"primary",size:"large"},{default:g((()=>[D("未质检")])),_:1})):x("",!0),"1"==e.state?(c(),v(_,{key:1,type:"success",size:"large"},{default:g((()=>[D("已质检")])),_:1})):x("",!0)])])),_:2},1032,["onClick"])))),256))])])),_:1},8,["loading","finished","onLoad"])]),y(pe,{modelValue:n.centerDialogVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>n.centerDialogVisible=e),"destroy-on-close":!0,title:"质检记录详情",width:"96%","align-center":""},{default:g((()=>[p("div",Z,[p("div",null,[y(R,{"content-position":"left"},{default:g((()=>[D("基本信息")])),_:1}),p("p",null,[$,p("span",null,w(n.listData.yjtJyInformationData.batchnumber),1)]),p("p",null,[A,p("span",null,w(parseFloat(n.listData.yjtJyInformationData.suttle))+w(n.listData.yjtJyInformationData.unit),1)]),p("p",null,[G,p("span",null,w(n.listData.yjtJyInformationData.standard),1)]),p("p",null,[K,p("span",null,w(n.listData.yjtJyInformationData.suttleperson),1),D("      "),T,p("span",null,w(n.listData.yjtJyInformationData.scanUser),1)]),p("p",null,[X,p("span",null,w(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationData.proDate)),1)])]),"1"==n.listData.yjtJyInformationData.state?(c(),u("div",ee,[y(R,{"content-position":"left"},{default:g((()=>[D("质检信息")])),_:1}),(c(!0),u(h,null,k(n.listData.yjtJyInformationDecideDataList,((e,t)=>(c(),u("div",null,[p("div",null,[p("p",null,[te,"0"==e.details.isNew?(c(),v(S,{key:0,type:"success"},{default:g((()=>[D("是")])),_:1})):x("",!0),"1"==e.details.isNew?(c(),v(S,{key:1,type:"danger"},{default:g((()=>[D("否")])),_:1})):x("",!0)]),p("p",null,[ae,p("span",null,w(e.details.exteriorName),1),D("      "),"0"!=e.details.exterior?(c(),u("span",le,"类型：")):x("",!0),p("span",null,w(e.details.dictName),1)]),p("p",null,[ne,p("span",null,w(n.dateFormat("YYYY-mm-dd HH:MM:SS",e.details.checkoutDate)),1)]),p("p",null,[ie,p("span",null,w(e.details.checkoutUser),1)]),e.details.alterReason?(c(),u("p",oe,[se,p("span",null,w(e.details.alterReason),1)])):x("",!0),e.details.remarks?(c(),u("p",de,[re,p("span",null,w(e.details.remarks),1)])):x("",!0),"0"!=e.details.exterior?(c(),u("div",ce,[(c(!0),u(h,null,k(e.fileList,((t,a)=>(c(),v(Y,{style:{margin:"0 2%"},onClick:t=>n.seeImg(e.fileList),width:"45%",height:"8rem",fit:"cover",position:"left",src:t},null,8,["onClick","src"])))),256))])):x("",!0),y(R)])])))),256))])):x("",!0)]),y(ue,{show:n.showImage,"onUpdate:show":t[2]||(t[2]=e=>n.showImage=e),images:n.listData.filePathList,closeable:!0,loop:!1,closeOnPopstate:!0},null,8,["show","images"])])),_:1},8,["modelValue"])],64)}],["__scopeId","data-v-e026a30a"]]))}}}));
