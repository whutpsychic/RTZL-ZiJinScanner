System.register(["./el-tag-legacy-9c5e3cae.js","./el-overlay-legacy-5eda7516.js","./index-legacy-89a34e7c.js","./index-legacy-eb9065b9.js","./el-card-legacy-0c33fc6e.js","./index-legacy-2f76a666.js","./index-legacy-f3c1d55a.js","./index-legacy-a8b76193.js","./qualityCheckingRecord-legacy-ebf9cf3f.js","./el-select-legacy-582e2892.js","./el-popper-legacy-70ffd702.js","./index-legacy-043578f0.js","./request-legacy-e169870c.js","./gradeDetermination-legacy-158b5fd5.js","./index-legacy-11bfa915.js","./function-call-legacy-5e820113.js","./index-legacy-16ab7d77.js","./use-global-config-legacy-7d6044fa.js","./objects-legacy-05777e60.js","./mount-component-legacy-2eb7189b.js","./index-legacy-d7add2f9.js","./use-id-legacy-a10b8f4a.js","./use-tab-status-legacy-81ed5cb1.js","./index-legacy-10513804.js"],(function(t,a){"use strict";var e,l,n,i,o,s,r,d,u,y,c,p,m,f,D,g,h,b,j,I,v,J,k,w,x,C,L,_,S,Y,H,V,F,N,z,M,U,A,R,E,B;return{setters:[null,t=>{e=t.E},t=>{l=t._,n=t.k,i=t.p,o=t.Z,s=t.q,r=t.s,d=t.x,u=t.y,y=t.F,c=t.a,p=t.z,m=t.H,f=t.a1,D=t.A,g=t.G,h=t.N,b=t.C,j=t.a6,I=t.a2,v=t.D,J=t.E},t=>{k=t.C,w=t.R},t=>{x=t.D,C=t.E,L=t.a,_=t.I},null,null,t=>{S=t.F},t=>{Y=t.q,H=t.S,V=t.L,F=t.T},t=>{N=t.a,z=t.E},null,t=>{M=t.N},t=>{U=t.r,A=t.b},t=>{R=t.f},t=>{E=t.s},t=>{B=t.s},null,null,null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".header[data-v-83935840]{width:100%;height:110px;line-height:110px;position:absolute;z-index:5;top:0}.content[data-v-83935840]{width:100%;overflow:scroll;top:110px;position:absolute;z-index:10;bottom:5px}\n",document.head.appendChild(a);const P={setup(){const t=n(),a=i(""),e=i(!1),l=i(""),d=i(""),u=i(!1),y=o({auditorListData:[],yjtJyInformationDetails:{},yjtJyInformationFileList:[],yjtJyInformationDecideData:{},filePathList:[]}),c=i(!1),p=i(!1),m=i(!1),f=i("0"),D=i(10),g=i(0);s((()=>{r.register("goback",(()=>{c.value?c.value=!1:t.push({path:"/home"})})),g.value=1,h({batchnumber:a.value,status:f.value})}));const h=t=>{p.value=!0;let a={},e={},l={};var n;l.limit=D.value,l.offset=g.value,l.blockId="paramBlock",l.data=t,e.paramBlock=l,a.blocks=e,(n=a,U({url:`${A.api_base_url}/mobileTerminalApi.do?method=auditorDataQuery`,method:"post",data:n})).then((t=>{y.auditorListData=[...y.auditorListData,...t.data.blocks.resultBlock.data],p.value=!1,y.auditorListData.length==t.data.blocks.resultBlock.total&&(m.value=!0);let a=document.body.scrollHeight-180;d.value="height:"+a+"px"})).catch((t=>{console.log(t)}))},b=t=>{let a={};a.yjtJyInformationDetailsId=t,R(a).then((t=>{y.yjtJyInformationFileList=t.data.data})).catch((t=>{console.log(t)}))},j=t=>{Y(t).then((t=>{let a={},e=y.yjtJyInformationDetails.status;a="0"==e||"1"==e?t.data.data[0]:t.data.data[1],y.yjtJyInformationDecideData=a,c.value=!0})).catch((t=>{console.log(t)}))};return{elDialogHeight:d,state:u,listData:y,showImage:e,auditorContent:l,centerDialogVisible:c,searchValue:a,loading:p,finished:m,limit:D,offset:g,status:f,options:[{value:"0",label:"未审核"},{value:"1",label:"驳回"},{value:"2",label:"审核通过"}],listData:y,onClickLeft:()=>{t.back()},onLoad:()=>{g.value=g.value+1,h({batchnumber:a.value,status:f.value})},getFileQuery:b,getAuditorDataQuery:h,statusChange:t=>{y.auditorListData=[],g.value=1,m.value=!1,h({batchnumber:t,status:f.value})},dateFormat:(t,a)=>{let e,l=new Date(a);const n={"Y+":l.getFullYear().toString(),"m+":(l.getMonth()+1).toString(),"d+":l.getDate().toString(),"H+":l.getHours().toString(),"M+":l.getMinutes().toString(),"S+":l.getSeconds().toString()};for(let i in n)e=new RegExp("("+i+")").exec(t),e&&(t=t.replace(e[1],1==e[1].length?n[i]:n[i].padStart(e[1].length,"0")));return t},onSearch:t=>{y.auditorListData=[],g.value=1,m.value=!1,h({batchnumber:t,status:f.value})},auditingDetails:t=>{let a={yjtJyInformationId:t.yjtJyInformationId,status:"2"};j(a),y.yjtJyInformationDetails=t,"0"!=y.yjtJyInformationDetails.exterior&&b(y.yjtJyInformationDetails.yjtJyInformationDetailsId)},seeImg:t=>{y.filePathList=[],y.filePathList=t,e.value=!0},cathodeCopperAuditorClick:t=>{if(""==l.value)return E({message:"请填写审核内容",type:"fail",overlay:!0,className:"particulars-detail-popup"}),!1;let e={},n={},i={},o={};e.id=y.yjtJyInformationDetails.id,e.yjtJyInformationId=y.yjtJyInformationDetails.yjtJyInformationId,e.yjtJyInformationDetailsId=y.yjtJyInformationDetails.yjtJyInformationDetailsId,e.auditorContent=l.value,e.status=t,o.data=e,i.paramBlock=o,n.blocks=i;let s="";s="1"==t?"驳回":"通过",B({title:"提示",width:"600",allowHtml:!0,message:'<span style="font-size: 18px">是否'+s+"这条数据？</span>"}).then((()=>{var t;(t=n,U({url:`${A.api_base_url}/mobileTerminalApi.do?method=cathodeCopperAuditor`,method:"post",data:t})).then((t=>{"0"==t.data.status&&(E({message:t.data.returnMsg,type:"success",className:"particulars-detail-popup",overlay:!0}),y.auditorListData=[],c.value=!1,h({batchnumber:a.value,status:f.value}))})).catch((t=>{console.log(t)}))})).catch((t=>{console.log(t)}))},getQualityCheckingRecordDecide:j}}},q=t=>(v("data-v-83935840"),t=t(),J(),t),Q={class:"header"},T={style:{display:"flex","background-color":"#ffffff"}},G={class:"content"},$={style:{padding:"0px 5px 5px 5px"}},O=q((()=>y("span",{style:{"font-weight":"bold"}},"编号：",-1))),Z=q((()=>y("span",{style:{"font-weight":"bold"}},"重量：",-1))),K=q((()=>y("span",{style:{"font-weight":"bold"}},"标准：",-1))),W=q((()=>y("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),X={key:0,style:{"font-weight":"bold"}},tt={style:{color:"#bbbbbb"}},at={style:{float:"right",color:"#bbbbbb"}},et=q((()=>y("span",{style:{"font-weight":"bold"}},"编号：",-1))),lt=q((()=>y("span",{style:{"font-weight":"bold"}},"重量：",-1))),nt=q((()=>y("span",{style:{"font-weight":"bold"}},"标准：",-1))),it=q((()=>y("span",{style:{"font-weight":"bold"}},"计量员：",-1))),ot=q((()=>y("span",{style:{"font-weight":"bold"}},"扫描人：",-1))),st=q((()=>y("span",{style:{"font-weight":"bold"}},"生产日期：",-1))),rt=q((()=>y("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),dt={key:3,style:{"font-weight":"bold"}},ut=q((()=>y("span",{style:{"font-weight":"bold"}},"质检时间：",-1))),yt=q((()=>y("span",{style:{"font-weight":"bold"}},"质检人：",-1))),ct={key:0},pt=q((()=>y("span",{style:{"font-weight":"bold"}},"改判理由：",-1))),mt={key:1},ft=q((()=>y("span",{style:{"font-weight":"bold"}},"备注：",-1))),Dt={key:2},gt=q((()=>y("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),ht={key:3,style:{"font-weight":"bold"}},bt=q((()=>y("span",{style:{"font-weight":"bold"}},"质检时间：",-1))),jt=q((()=>y("span",{style:{"font-weight":"bold"}},"质检人：",-1))),It=q((()=>y("span",{style:{"font-weight":"bold"}},"改判理由：",-1))),vt={key:0},Jt=q((()=>y("span",{style:{"font-weight":"bold"}},"备注：",-1))),kt={key:0,style:{"margin-top":"15px"}},wt=q((()=>y("span",{style:{"font-weight":"bold"}},"状态：",-1))),xt=q((()=>y("span",{style:{"font-weight":"bold"}},"审核人：",-1))),Ct=q((()=>y("span",{style:{"font-weight":"bold"}},"审核时间：",-1))),Lt=q((()=>y("span",{style:{"font-weight":"bold"}},"审核内容：",-1))),_t={key:1},St={key:0,style:{"margin-top":"30px"}};t("default",l(P,[["render",function(t,a,l,n,i,o){const s=M,r=H,v=z,J=N,Y=F,U=x,A=C,R=V,E=L,B=S,P=_,q=k,Yt=I,Ht=w,Vt=e;return d(),u("main",null,[y("div",Q,[c(s,{title:"审核列表",class:"page-nav-bar","left-arrow":"",onClickLeft:n.onClickLeft},null,8,["onClickLeft"]),y("div",T,[c(r,{style:{width:"68%"},modelValue:n.searchValue,"onUpdate:modelValue":a[0]||(a[0]=t=>n.searchValue=t),shape:"round",placeholder:"请输入编号搜索",onSearch:n.onSearch},null,8,["modelValue","onSearch"]),c(J,{modelValue:n.status,"onUpdate:modelValue":a[1]||(a[1]=t=>n.status=t),clearable:"",placeholder:"状态",style:{width:"31%",float:"right","margin-top":"0.8rem"},onChange:n.statusChange},{default:p((()=>[(d(!0),u(m,null,f(n.options,(t=>(d(),D(v,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])]),y("div",G,[c(R,{loading:n.loading,"onUpdate:loading":a[2]||(a[2]=t=>n.loading=t),"immediate-check":!1,finished:n.finished,"finished-text":"没有更多了",onLoad:n.onLoad},{default:p((()=>[y("div",$,[(d(!0),u(m,null,f(n.listData.auditorListData,((t,a)=>(d(),D(A,{class:"box-card",shadow:"always",style:{"margin-top":"5px"},onClick:a=>n.auditingDetails(t)},{default:p((()=>[y("div",null,[y("p",null,[O,y("span",null,g(t.batchnumber),1)]),y("p",null,[Z,y("span",null,g(parseFloat(t.suttle))+g(t.unit),1)]),y("p",null,[K,y("span",null,g(t.standard),1)]),y("p",null,[W,y("span",null,g(t.exteriorName),1),h("    "),"0"!=t.exterior?(d(),u("span",X,"类型：")):b("",!0),y("span",null,g(t.dictName),1)]),y("p",null,["0"==t.status?(d(),D(Y,{key:0,type:"primary",size:"large"},{default:p((()=>[h("未审核")])),_:1})):b("",!0),"1"==t.status?(d(),D(Y,{key:1,type:"danger",size:"large"},{default:p((()=>[h("驳回")])),_:1})):b("",!0),"2"==t.status?(d(),D(Y,{key:2,type:"success",size:"large"},{default:p((()=>[h("审核通过")])),_:1})):b("",!0)]),c(U,{style:{color:"#c8c8c8"}}),y("span",tt,g(n.dateFormat("YYYY-mm-dd HH:MM:SS",t.checkoutDate)),1),y("span",at,g(t.checkoutUser),1)])])),_:2},1032,["onClick"])))),256))])])),_:1},8,["loading","finished","onLoad"])]),c(Vt,{modelValue:n.centerDialogVisible,"onUpdate:modelValue":a[9]||(a[9]=t=>n.centerDialogVisible=t),"destroy-on-close":!0,title:"审核详情",width:"96%","align-center":""},{default:p((()=>[y("div",{style:j([{padding:"15px","overflow-y":"auto","overscroll-behavior-y":"contain"},n.elDialogHeight])},[y("div",null,[y("div",null,[c(U,{"content-position":"left"},{default:p((()=>[h("基本信息")])),_:1}),y("p",null,[et,y("span",null,g(n.listData.yjtJyInformationDetails.batchnumber),1)]),y("p",null,[lt,y("span",null,g(parseFloat(n.listData.yjtJyInformationDetails.suttle))+g(n.listData.yjtJyInformationDetails.unit),1)]),y("p",null,[nt,y("span",null,g(n.listData.yjtJyInformationDetails.standard),1)]),y("p",null,[it,y("span",null,g(n.listData.yjtJyInformationDetails.suttleperson),1),h("     "),ot,y("span",null,g(n.listData.yjtJyInformationDetails.scanUser),1)]),y("p",null,[st,y("span",null,g(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationDetails.proDate)),1)])]),y("div",null,[c(U,{"content-position":"left"},{default:p((()=>[h("历史质检信息")])),_:1}),y("div",null,[y("p",null,[rt,"优等品"==n.listData.yjtJyInformationDecideData.details.exteriorName?(d(),D(Y,{key:0,type:"primary",size:"medium"},{default:p((()=>[h("优等品 ")])),_:1})):b("",!0),"合格"==n.listData.yjtJyInformationDecideData.details.exteriorName?(d(),D(Y,{key:1,type:"warning",size:"medium"},{default:p((()=>[h("合格 ")])),_:1})):b("",!0),"不合格"==n.listData.yjtJyInformationDecideData.details.exteriorName?(d(),D(Y,{key:2,type:"danger",size:"medium"},{default:p((()=>[h("不合格 ")])),_:1})):b("",!0),h("      "),"0"!=n.listData.yjtJyInformationDecideData.details.exterior?(d(),u("span",dt,"类型：")):b("",!0),y("span",null,g(n.listData.yjtJyInformationDecideData.details.dictName),1)]),y("p",null,[ut,y("span",null,g(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationDecideData.details.checkoutDate)),1)]),y("p",null,[yt,y("span",null,g(n.listData.yjtJyInformationDecideData.details.checkoutUser),1)]),n.listData.yjtJyInformationDecideData.details.alterReason?(d(),u("p",ct,[pt,y("span",null,g(n.listData.yjtJyInformationDecideData.details.alterReason),1)])):b("",!0),n.listData.yjtJyInformationDecideData.details.remarks?(d(),u("p",mt,[ft,y("span",null,g(n.listData.yjtJyInformationDecideData.details.remarks),1)])):b("",!0),"0"!=n.listData.yjtJyInformationDecideData.details.exterior?(d(),u("div",Dt,[(d(!0),u(m,null,f(n.listData.yjtJyInformationDecideData.fileList,((t,e)=>(d(),D(E,{style:{margin:"0 2%"},onClick:a[3]||(a[3]=t=>n.seeImg(n.listData.yjtJyInformationDecideData.fileList)),width:"45%",height:"8rem",fit:"cover",position:"left",src:t},null,8,["src"])))),256))])):b("",!0)])]),y("div",null,[c(U,{"content-position":"left"},{default:p((()=>[h("审核的质检信息")])),_:1}),y("p",null,[gt,"优等品"==n.listData.yjtJyInformationDetails.exteriorName?(d(),D(Y,{key:0,type:"primary",size:"medium"},{default:p((()=>[h("优等品 ")])),_:1})):b("",!0),"合格"==n.listData.yjtJyInformationDetails.exteriorName?(d(),D(Y,{key:1,type:"warning",size:"medium"},{default:p((()=>[h("合格 ")])),_:1})):b("",!0),"不合格"==n.listData.yjtJyInformationDetails.exteriorName?(d(),D(Y,{key:2,type:"danger",size:"medium"},{default:p((()=>[h("不合格 ")])),_:1})):b("",!0),h("    "),"0"!=n.listData.yjtJyInformationDetails.exterior?(d(),u("span",ht,"类型：")):b("",!0),y("span",null,g(n.listData.yjtJyInformationDetails.dictName),1)]),y("p",null,[bt,y("span",null,g(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationDetails.checkoutDate)),1)]),y("p",null,[jt,y("span",null,g(n.listData.yjtJyInformationDetails.checkoutUser),1)]),y("p",null,[It,y("span",null,g(n.listData.yjtJyInformationDetails.alterReason),1)]),n.listData.yjtJyInformationDetails.remarks?(d(),u("p",vt,[Jt,y("span",null,g(n.listData.yjtJyInformationDetails.remarks),1)])):b("",!0)]),"0"!=n.listData.yjtJyInformationDetails.status?(d(),u("div",kt,[y("p",null,[wt,y("span",null,g("0"===n.listData.yjtJyInformationDetails.status?"未审核":"1"===n.listData.yjtJyInformationDetails.status?"驳回":"通过"),1),h("     "),xt,y("span",null,g(n.listData.yjtJyInformationDetails.auditorUserName),1)]),y("p",null,[Ct,y("span",null,g(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationDetails.auditorDate)),1)]),y("p",null,[Lt,y("span",null,g(n.listData.yjtJyInformationDetails.auditorContent),1)])])):b("",!0),"0"!=n.listData.yjtJyInformationDetails.exterior?(d(),u("div",_t,[(d(!0),u(m,null,f(n.listData.yjtJyInformationFileList,((t,e)=>(d(),D(E,{style:{margin:"0 2%"},onClick:a[4]||(a[4]=t=>n.seeImg(n.listData.yjtJyInformationFileList)),width:"45%",height:"8rem",fit:"cover",position:"left",src:t},null,8,["src"])))),256))])):b("",!0),"0"==n.listData.yjtJyInformationDetails.status?(d(),D(B,{key:2,modelValue:n.auditorContent,"onUpdate:modelValue":a[5]||(a[5]=t=>n.auditorContent=t),rows:"5",autosize:"",label:"审核内容",type:"textarea",maxlength:"50",placeholder:"请输入审核内容","show-word-limit":""},null,8,["modelValue"])):b("",!0)]),c(P,{show:n.showImage,"onUpdate:show":a[6]||(a[6]=t=>n.showImage=t),images:n.listData.filePathList,closeable:!0,loop:!1,closeOnPopstate:!0},null,8,["show","images"]),"0"==n.listData.yjtJyInformationDetails.status?(d(),u("div",St,[c(Ht,null,{default:p((()=>[c(q,{span:"2"}),c(q,{span:"10"},{default:p((()=>[c(Yt,{icon:"close",type:"danger",style:{width:"90%"},onClick:a[7]||(a[7]=t=>n.cathodeCopperAuditorClick("1"))},{default:p((()=>[h("驳回 ")])),_:1})])),_:1}),c(q,{span:"10"},{default:p((()=>[c(Yt,{icon:"passed",type:"success",style:{width:"90%"},onClick:a[8]||(a[8]=t=>n.cathodeCopperAuditorClick("2"))},{default:p((()=>[h("通过 ")])),_:1})])),_:1}),c(q,{span:"2"})])),_:1})])):b("",!0)],4)])),_:1},8,["modelValue"])])}],["__scopeId","data-v-83935840"]]))}}}));
