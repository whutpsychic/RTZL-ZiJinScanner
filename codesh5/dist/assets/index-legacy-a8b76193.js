System.register(["./index-legacy-89a34e7c.js","./index-legacy-f3c1d55a.js","./use-id-legacy-a10b8f4a.js","./mount-component-legacy-2eb7189b.js"],(function(e,t){"use strict";var a,l,r,n,i,o,s,d,c,u,v,f,g,p,h,m,b,_,x,y,w,k,C,z,I,M,S,V,E,B,A,j,T,q,L,P;return{setters:[e=>{a=e.bf,l=e.aq,r=e.bg,n=e.bb,i=e.M,o=e.c,s=e.n,d=e.a8,c=e.m,u=e.e,v=e.a4,f=e.d,g=e.W,p=e.p,h=e.i,m=e.be,b=e.f,_=e.b,x=e.V,y=e.a3,w=e.ae,k=e.q,C=e.a,z=e.ap,I=e.bh,M=e.bi,S=e.ay,V=e.I,E=e.h,B=e.N,A=e.bj,j=e.w},e=>{T=e.c,q=e.C},e=>{L=e.u},e=>{P=e.u}],execute:function(){var t=document.createElement("style");function W(e){return Array.isArray(e)?!e.length:0!==e&&!e}function $(e,t){const{message:a}=t;return n(a)?a(e,t):a||""}function F({target:e}){e.composing=!0}function O({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function D(e){return[...e].length}function H(e,t){return[...e].slice(0,t).join("")}t.textContent=':root{--van-field-label-width: 6.2em;--van-field-label-color: var(--van-text-color);--van-field-label-margin-right: var(--van-padding-sm);--van-field-input-text-color: var(--van-text-color);--van-field-input-error-text-color: var(--van-danger-color);--van-field-input-disabled-text-color: var(--van-text-color-3);--van-field-placeholder-text-color: var(--van-text-color-3);--van-field-icon-size: 18px;--van-field-clear-icon-size: 18px;--van-field-clear-icon-color: var(--van-gray-5);--van-field-right-icon-color: var(--van-gray-6);--van-field-error-message-color: var(--van-danger-color);--van-field-error-message-font-size: 12px;--van-field-text-area-min-height: 60px;--van-field-word-limit-color: var(--van-gray-7);--van-field-word-limit-font-size: var(--van-font-size-sm);--van-field-word-limit-line-height: 16px;--van-field-disabled-text-color: var(--van-text-color-3);--van-field-required-mark-color: var(--van-red)}.van-field{flex-wrap:wrap}.van-field__label{flex:none;box-sizing:border-box;width:var(--van-field-label-width);margin-right:var(--van-field-label-margin-right);color:var(--van-field-label-color);text-align:left;word-wrap:break-word}.van-field__label--center{text-align:center}.van-field__label--right{text-align:right}.van-field__label--top{display:flex;width:100%;text-align:left;margin-bottom:var(--van-padding-base);word-break:break-word}.van-field__label--required:before{margin-right:2px;color:var(--van-field-required-mark-color);content:"*"}.van-field--disabled .van-field__label{color:var(--van-field-disabled-text-color)}.van-field__value{overflow:visible}.van-field__body{display:flex;align-items:center}.van-field__control{display:block;box-sizing:border-box;width:100%;min-width:0;margin:0;padding:0;color:var(--van-field-input-text-color);line-height:inherit;text-align:left;background-color:transparent;border:0;resize:none;-webkit-user-select:auto;user-select:auto}.van-field__control::-webkit-input-placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control::placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control:read-only{cursor:default}.van-field__control:disabled{color:var(--van-field-input-disabled-text-color);cursor:not-allowed;opacity:1;-webkit-text-fill-color:var(--van-field-input-disabled-text-color)}.van-field__control--center{justify-content:center;text-align:center}.van-field__control--right{justify-content:flex-end;text-align:right}.van-field__control--custom{display:flex;align-items:center;min-height:var(--van-cell-line-height)}.van-field__control--error::-webkit-input-placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--error,.van-field__control--error::placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--min-height{min-height:var(--van-field-text-area-min-height)}.van-field__control[type=date],.van-field__control[type=time],.van-field__control[type=datetime-local]{min-height:var(--van-cell-line-height)}.van-field__control[type=search]{-webkit-appearance:none}.van-field__clear,.van-field__icon,.van-field__button,.van-field__right-icon{flex-shrink:0}.van-field__clear,.van-field__right-icon{margin-right:calc(var(--van-padding-xs) * -1);padding:0 var(--van-padding-xs);line-height:inherit}.van-field__clear{color:var(--van-field-clear-icon-color);font-size:var(--van-field-clear-icon-size);cursor:pointer}.van-field__left-icon .van-icon,.van-field__right-icon .van-icon{display:block;font-size:var(--van-field-icon-size);line-height:inherit}.van-field__left-icon{margin-right:var(--van-padding-base)}.van-field__right-icon{color:var(--van-field-right-icon-color)}.van-field__button{padding-left:var(--van-padding-xs)}.van-field__error-message{color:var(--van-field-error-message-color);font-size:var(--van-field-error-message-font-size);text-align:left}.van-field__error-message--center{text-align:center}.van-field__error-message--right{text-align:right}.van-field__word-limit{margin-top:var(--van-padding-base);color:var(--van-field-word-limit-color);font-size:var(--van-field-word-limit-font-size);line-height:var(--van-field-word-limit-line-height);text-align:right}\n',document.head.appendChild(t);const[N,R]=o("field"),K=e("f",{id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:s,formatter:Function,clearIcon:d("clear"),modelValue:c(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:d("focus"),formatTrigger:d("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}}),J=u({},T,K,{rows:s,type:d("text"),rules:Array,autosize:[Boolean,Object],labelWidth:s,labelClass:v,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var U=f({name:N,props:J,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const o=L(),s=g({status:"unvalidated",focused:!1,validateMessage:""}),d=p(),c=p(),u=p(),{parent:v}=h.useParent(m),f=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},j=t=>z(e[t])?e[t]:v&&z(v.props[t])?v.props[t]:void 0,T=b((()=>{const t=j("readonly");if(e.clearable&&!t){const t=""!==f(),a="always"===e.clearTrigger||"focus"===e.clearTrigger&&s.focused;return t&&a}return!1})),N=b((()=>u.value&&n.input?u.value():e.modelValue)),K=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===s.status)return;let{value:e}=N;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(W(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return s.status="failed",void(s.validateMessage=$(e,t));if(t.validator){if(W(e)&&!1===t.validateEmpty)return;return function(e,t){return new Promise((a=>{const l=t.validator(e,t);r(l)?l.then(a):a(l)}))}(e,t).then((a=>{a&&"string"==typeof a?(s.status="failed",s.validateMessage=a):!1===a&&(s.status="failed",s.validateMessage=$(e,t))}))}}))),Promise.resolve()),J=()=>{s.status="unvalidated",s.validateMessage=""},U=()=>t("endValidate",{status:s.status,message:s.validateMessage}),Y=(a=e.rules)=>new Promise((l=>{J(),a?(t("startValidate"),K(a).then((()=>{"failed"===s.status?(l({name:e.name,message:s.validateMessage}),U()):(s.status="passed",l(),U())}))):l()})),G=t=>{if(v&&e.rules){const{validateTrigger:a}=v.props,l=I(a).includes(t),r=e.rules.filter((e=>e.trigger?I(e.trigger).includes(t):l));r.length&&Y(r)}},Q=(a,l="onChange")=>{const r=a;a=(t=>{var a;const{maxlength:l}=e;if(z(l)&&D(t)>+l){const e=f();if(e&&D(e)===+l)return e;const r=null==(a=d.value)?void 0:a.selectionEnd;if(s.focused&&r){const e=[...t],a=e.length-+l;return e.splice(r-a,a),e.join("")}return H(t,+l)}return t})(a);const n=D(r)-D(a);if("number"===e.type||"digit"===e.type){const t="number"===e.type;a=M(a,t,t)}let i=0;if(e.formatter&&l===e.formatTrigger){const{formatter:t,maxlength:l}=e;if(a=t(a),z(l)&&D(a)>+l&&(a=H(a,+l)),d.value&&s.focused){const{selectionEnd:e}=d.value,a=H(r,e);i=D(t(a))-D(a)}}if(d.value&&d.value.value!==a)if(s.focused){let{selectionStart:e,selectionEnd:t}=d.value;if(d.value.value=a,z(e)&&z(t)){const l=D(a);n?(e-=n,t-=n):i&&(e+=i,t+=i),d.value.setSelectionRange(Math.min(e,l),Math.min(t,l))}}else d.value.value=a;a!==e.modelValue&&t("update:modelValue",a)},X=e=>{e.target.composing||Q(e.target.value)},Z=()=>{var e;return null==(e=d.value)?void 0:e.blur()},ee=()=>{var e;return null==(e=d.value)?void 0:e.focus()},te=()=>{const t=d.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const r=a();e.style.height="auto";let n=e.scrollHeight;if(i(t)){const{maxHeight:e,minHeight:a}=t;void 0!==e&&(n=Math.min(n,e)),void 0!==a&&(n=Math.max(n,a))}n&&(e.style.height=`${n}px`,l(r))}(t,e.autosize)},ae=e=>{s.focused=!0,t("focus",e),w(te),j("readonly")&&Z()},le=e=>{s.focused=!1,Q(f(),"onBlur"),t("blur",e),j("readonly")||(G("onBlur"),w(te),A())},re=e=>t("clickInput",e),ne=e=>t("clickLeftIcon",e),ie=e=>t("clickRightIcon",e),oe=b((()=>"boolean"==typeof e.error?e.error:!(!v||!v.props.showError||"failed"!==s.status)||void 0)),se=b((()=>{const e=j("labelWidth"),t=j("labelAlign");if(e&&"top"!==t)return{width:_(e)}})),de=a=>{13===a.keyCode&&(v&&v.props.submitOnEnter||"textarea"===e.type||S(a),"search"===e.type&&Z()),t("keypress",a)},ce=()=>e.id||`${o}-input`,ue=()=>{const t=R("control",[j("inputAlign"),{error:oe.value,custom:!!n.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(n.input)return C("div",{class:t,onClick:re},[n.input()]);const a={id:ce(),ref:d,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:j("disabled"),readonly:j("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${o}-label`:void 0,onBlur:le,onFocus:ae,onInput:X,onClick:re,onChange:O,onKeypress:de,onCompositionend:O,onCompositionstart:F};return"textarea"===e.type?C("textarea",a,null):C("input",E("number"===(l=e.type)?{type:"text",inputmode:"decimal"}:"digit"===l?{type:"tel",inputmode:"numeric"}:{type:l},a),null);var l},ve=()=>{const t=n["right-icon"];if(e.rightIcon||t)return C("div",{class:R("right-icon"),onClick:ie},[t?t():C(V,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},fe=()=>{if(e.showWordLimit&&e.maxlength){const t=D(f());return C("div",{class:R("word-limit")},[C("span",{class:R("word-num")},[t]),B("/"),e.maxlength])}},ge=()=>{if(v&&!1===v.props.showErrorMessage)return;const t=e.errorMessage||s.validateMessage;if(t){const e=n["error-message"],a=j("errorMessageAlign");return C("div",{class:R("error-message",a)},[e?e({message:t}):t])}},pe=()=>[C("div",{class:R("body")},[ue(),T.value&&C(V,{ref:c,name:e.clearIcon,class:R("clear")},null),ve(),n.button&&C("div",{class:R("button")},[n.button()])]),fe(),ge()];return P({blur:Z,focus:ee,validate:Y,formValue:N,resetValidation:J,getValidationStatus:()=>s.status}),x(h.CUSTOM_FIELD_INJECTION_KEY,{customValue:u,resetValidation:J,validateWithTrigger:G}),y((()=>e.modelValue),(()=>{Q(f()),J(),G("onChange"),w(te)})),k((()=>{Q(f(),e.formatTrigger),w(te)})),h.useEventListener("touchstart",(e=>{S(e),t("update:modelValue",""),t("clear",e)}),{target:b((()=>{var e;return null==(e=c.value)?void 0:e.$el}))}),()=>{const t=j("disabled"),a=j("labelAlign"),l=(()=>{const t=n["left-icon"];if(e.leftIcon||t)return C("div",{class:R("left-icon"),onClick:ne},[t?t():C(V,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return C(q,{size:e.size,class:R({error:oe.value,disabled:t,[`label-${a}`]:a}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:se.value,valueClass:R("value"),titleClass:[R("label",[a,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:l&&"top"!==a?()=>l:null,title:()=>{const t=(()=>{const t=j("labelWidth"),a=j("labelAlign"),l=j("colon")?":":"";return n.label?[n.label(),l]:e.label?C("label",{id:`${o}-label`,for:ce(),onClick:e=>{S(e),ee()},style:"top"===a&&t?{width:_(t)}:void 0},[e.label+l]):void 0})();return"top"===a?[l,t].filter(Boolean):t||[]},value:pe,extra:n.extra})}}});e("F",j(U))}}}));
