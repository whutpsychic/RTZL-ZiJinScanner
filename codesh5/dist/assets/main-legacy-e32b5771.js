System.register(["./index-legacy-ddf179a4.js","./el-overlay-legacy-4e455803.js","./index-legacy-5f540a7a.js","./el-card-legacy-d48b2f56.js","./index-legacy-d8cde682.js"],(function(t,e){"use strict";var a,l,n,i,o,s,d,c,r,u,p,h,y,g,f,m,b,k,v,w,D,x,C,L,I,j,S,_,J,q,V;return{setters:[null,t=>{a=t.E},t=>{l=t.ai,n=t.aj,i=t._,o=t.M,s=t.Q,d=t.a,c=t.r,r=t.S,u=t.o,p=t.c,h=t.d,y=t.b,g=t.w,f=t.F,m=t.N,b=t.ak,k=t.al,v=t.a5,w=t.J,D=t.e,x=t.x,C=t.a8,L=t.a4,I=t.k,j=t.p,S=t.f,_=t.an,J=t.aa},t=>{q=t.E,V=t.a},null],execute:function(){var Y=document.createElement("style");Y.textContent=".header[data-v-4e1b0bbb]{width:100%;height:95px;line-height:95px;position:absolute;z-index:5;top:0}.content[data-v-4e1b0bbb]{width:100%;overflow:scroll;top:95px;position:absolute;z-index:10;bottom:5px}\n",document.head.appendChild(Y);const M=""+new URL("../image/saoma.png",e.meta.url).href,R={setup(){o.await("scanner",(t=>{"null"!=t?(i.qualityCheckingList=[],g.value=1,h.value=!0,f({batchnumber:"",barcode:t})):s({message:"数据获取失败",type:"fail",className:"particulars-detail-popup"})}));const t=d(),e=c(""),a=c(!1),i=r({qualityCheckingList:[],yjtJyInformationData:{},yjtJyInformationDecideDataList:[],filePathList:[]}),u=c(!1),p=c(!1),h=c(!1),y=c(10),g=c(0);function f(t){let e={},a={},o={};var s;o.limit=y.value,o.offset=g.value,o.blockId="paramBlock",o.data=t,a.paramBlock=o,e.blocks=a,(s=e,l({url:`${n.api_base_url}/mobileTerminalApi.do?method=qualityCheckingRecord`,method:"post",data:s})).then((t=>{i.qualityCheckingList=[...i.qualityCheckingList,...t.data.blocks.resultBlock.data],p.value=!1,i.qualityCheckingList.length==t.data.blocks.resultBlock.total&&(h.value=!0)})).catch((t=>{console.log(t)}))}return{showImage:u,centerDialogVisible:a,searchValue:e,loading:p,finished:h,limit:y,offset:g,listData:i,onClickLeft:()=>{t.push({path:"/home"})},onLoad:()=>{g.value=g.value+1,f({batchnumber:e.value,barcode:""})},statusChange:()=>{g.value=1,i.qualityCheckingList=[],h.value=!1,f({batchnumber:e.value,barcode:""})},dateFormat:(t,e)=>{let a,l=new Date(e);const n={"Y+":l.getFullYear().toString(),"m+":(l.getMonth()+1).toString(),"d+":l.getDate().toString(),"H+":l.getHours().toString(),"M+":l.getMinutes().toString(),"S+":l.getSeconds().toString()};for(let i in n)a=new RegExp("("+i+")").exec(t),a&&(t=t.replace(a[1],1==a[1].length?n[i]:n[i].padStart(a[1].length,"0")));return t},onSearch:()=>{g.value=1,i.qualityCheckingList=[],h.value=!1,f({batchnumber:e.value,barcode:""})},qualityCheckingRecordDetails:t=>{var e,o;i.yjtJyInformationData=t,"1"==t.state&&(e={yjtJyInformationId:t.id,status:"2"},(o=e,l({url:`${n.api_base_url}/mobileTerminalApi.do?method=qualityCheckingRecordDecide`,method:"get",params:o})).then((t=>{i.yjtJyInformationDecideDataList=t.data.data})).catch((t=>{console.log(t)}))),a.value=!0},scanClick:()=>{o.scan()},seeImg:t=>{i.filePathList=[],i.filePathList=t,u.value=!0}}}},F=t=>(j("data-v-4e1b0bbb"),t=t(),S(),t),U={class:"header"},H={style:{display:"flex","background-color":"#ffffff"}},N={id:"content",class:"content"},P={style:{padding:"0px 5px 5px 5px"}},B=F((()=>h("span",{style:{"font-weight":"bold"}},"编号：",-1))),E=F((()=>h("span",{style:{"font-weight":"bold"}},"重量：",-1))),z={style:{"overflow-y":"auto","overscroll-behavior-y":"contain",height:"calc(100vh - 180px)"}},A=F((()=>h("span",{style:{"font-weight":"bold"}},"编号：",-1))),T=F((()=>h("span",{style:{"font-weight":"bold"}},"重量：",-1))),$=F((()=>h("span",{style:{"font-weight":"bold"}},"标准：",-1))),O=F((()=>h("span",{style:{"font-weight":"bold"}},"计量员：",-1))),Q=F((()=>h("span",{style:{"font-weight":"bold"}},"扫描人：",-1))),G=F((()=>h("span",{style:{"font-weight":"bold"}},"生产日期：",-1))),K={key:0},W=F((()=>h("span",{style:{"font-weight":"bold"}},"是否最新：",-1))),X=F((()=>h("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),Z={key:0,style:{"font-weight":"bold"}},tt=F((()=>h("span",{style:{"font-weight":"bold"}},"质检时间：",-1))),et=F((()=>h("span",{style:{"font-weight":"bold"}},"质检人：",-1))),at={key:0},lt=F((()=>h("span",{style:{"font-weight":"bold"}},"改判理由：",-1))),nt={key:1};t("default",i(R,[["render",function(t,e,l,n,i,o){const s=m,d=b,c=_,r=q,j=k,S=C,Y=V,R=J,F=L,it=a;return u(),p(f,null,[h("div",U,[y(s,{title:"质检记录列表",class:"page-nav-bar","left-arrow":"",onClickLeft:n.onClickLeft},null,8,["onClickLeft"]),h("div",H,[y(d,{style:{width:"80%"},modelValue:n.searchValue,"onUpdate:modelValue":e[0]||(e[0]=t=>n.searchValue=t),shape:"round",placeholder:"请输入编号搜索",onSearch:n.onSearch},null,8,["modelValue","onSearch"]),h("img",{style:{width:"55px",height:"55px"},src:M,onClick:e[1]||(e[1]=(...t)=>n.scanClick&&n.scanClick(...t))})])]),h("div",N,[y(j,{loading:n.loading,"onUpdate:loading":e[2]||(e[2]=t=>n.loading=t),finished:n.finished,offset:"50","finished-text":"没有更多了",onLoad:n.onLoad},{default:g((()=>[h("div",P,[(u(!0),p(f,null,v(n.listData.qualityCheckingList,((t,e)=>(u(),I(r,{class:"box-card",shadow:"always",style:{"margin-top":"5px"},onClick:e=>n.qualityCheckingRecordDetails(t)},{default:g((()=>[h("div",null,[h("p",null,[B,h("span",null,D(t.batchnumber),1)]),h("p",null,[E,h("span",null,D(parseFloat(t.suttle))+D(t.unit),1)]),"0"==t.state?(u(),I(c,{key:0,type:"primary"},{default:g((()=>[w("未质检")])),_:1})):x("",!0),"1"==t.state?(u(),I(c,{key:1,type:"success"},{default:g((()=>[w("已质检")])),_:1})):x("",!0)])])),_:2},1032,["onClick"])))),256))])])),_:1},8,["loading","finished","onLoad"])]),y(it,{modelValue:n.centerDialogVisible,"onUpdate:modelValue":e[4]||(e[4]=t=>n.centerDialogVisible=t),"destroy-on-close":!0,title:"质检记录详情",width:"96%","align-center":""},{default:g((()=>[h("div",z,[h("div",null,[y(S,{"content-position":"left"},{default:g((()=>[w("基本信息")])),_:1}),h("p",null,[A,h("span",null,D(n.listData.yjtJyInformationData.batchnumber),1)]),h("p",null,[T,h("span",null,D(parseFloat(n.listData.yjtJyInformationData.suttle))+D(n.listData.yjtJyInformationData.unit),1)]),h("p",null,[$,h("span",null,D(n.listData.yjtJyInformationData.standard),1)]),h("p",null,[O,h("span",null,D(n.listData.yjtJyInformationData.suttleperson),1),w("     "),Q,h("span",null,D(n.listData.yjtJyInformationData.scanUser),1)]),h("p",null,[G,w(D(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationData.proDate)),1)])]),"1"==n.listData.yjtJyInformationData.state?(u(),p("div",K,[y(S,{"content-position":"left"},{default:g((()=>[w("质检信息")])),_:1}),(u(!0),p(f,null,v(n.listData.yjtJyInformationDecideDataList,((t,e)=>(u(),p("div",null,[h("div",null,[h("p",null,[W,"0"==t.details.isNew?(u(),I(Y,{key:0,type:"success"},{default:g((()=>[w("是")])),_:1})):x("",!0),"1"==t.details.isNew?(u(),I(Y,{key:1,type:"danger"},{default:g((()=>[w("否")])),_:1})):x("",!0)]),h("p",null,[X,h("span",null,D(t.details.exteriorName),1),w("     "),"0"!=t.details.exterior?(u(),p("span",Z,"类型：")):x("",!0),h("span",null,D(t.details.dictName),1)]),h("p",null,[tt,w(D(n.dateFormat("YYYY-mm-dd HH:MM:SS",t.details.checkoutDate)),1)]),h("p",null,[et,h("span",null,D(t.details.checkoutUser),1)]),t.details.alterReason?(u(),p("p",at,[lt,h("span",null,D(t.details.alterReason),1)])):x("",!0),"0"!=t.details.exterior?(u(),p("div",nt,[(u(!0),p(f,null,v(t.fileList,((e,a)=>(u(),I(R,{style:{margin:"0 2%"},onClick:e=>n.seeImg(t.fileList),width:"45%",height:"8rem",fit:"cover",position:"left",src:e},null,8,["onClick","src"])))),256))])):x("",!0),y(S)])])))),256))])):x("",!0)]),y(F,{show:n.showImage,"onUpdate:show":e[3]||(e[3]=t=>n.showImage=t),images:n.listData.filePathList,closeable:!0,loop:!1,closeOnPopstate:!0},null,8,["show","images"])])),_:1},8,["modelValue"])],64)}],["__scopeId","data-v-4e1b0bbb"]]))}}}));
