System.register(["./el-tag-legacy-3631ff16.js","./el-overlay-legacy-a58ed750.js","./index-legacy-e566b6ee.js","./index-legacy-5039dca1.js","./el-card-legacy-9c546c23.js","./index-legacy-2f76a666.js","./qualityCheckingRecord-legacy-ee3ece86.js","./el-select-legacy-8a405756.js","./el-popper-legacy-d4c995b5.js","./index-legacy-eda59a38.js","./gradeDetermination-legacy-357968b5.js","./function-call-legacy-ba3e0141.js","./index-legacy-c47127f6.js","./use-global-config-legacy-23cb7ed7.js","./objects-legacy-c7a21acd.js"],(function(t,a){"use strict";var e,l,n,o,i,s,r,d,u,y,c,p,m,f,D,g,h,b,j,I,v,J,k,w,x,C,_,L,S,Y,V,H,F,M,N,z,U,A,R,B;return{setters:[null,t=>{e=t.E},t=>{l=t.a7,n=t.a8,o=t._,i=t.u,s=t.r,r=t.H,d=t.o,u=t.b,y=t.c,c=t.i,p=t.d,m=t.w,f=t.F,D=t.J,g=t.N,h=t.a9,b=t.aa,j=t.O,I=t.e,v=t.j,J=t.W,k=t.f,w=t.ab,x=t.ac,C=t.$,_=t.a0,L=t.a2,S=t.V,Y=t.a1,V=t.Z,H=t.S,F=t.p,M=t.h},null,t=>{N=t.E},null,t=>{z=t.q},t=>{U=t.a,A=t.E},null,null,t=>{R=t.f},t=>{B=t.s},null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".header[data-v-1cf71bcb]{width:100%;height:95px;line-height:95px;position:absolute;z-index:5;top:0}.content[data-v-1cf71bcb]{width:100%;overflow:scroll;top:95px;position:absolute;z-index:10;bottom:5px}\n",document.head.appendChild(a);const E={setup(){const t=i(),a=s(""),e=s(!1),o=s(""),u=s(""),y=s(!1),c=r({auditorListData:[],yjtJyInformationDetails:{},yjtJyInformationFileList:[],yjtJyInformationDecideData:{},filePathList:[]}),p=s(!1),m=s(!1),f=s(!1),g=s("0"),h=s(10),b=s(0);d((()=>{b.value=1,j({batchnumber:a.value,status:g.value})}));const j=t=>{m.value=!0;let a={},e={},o={};var i;o.limit=h.value,o.offset=b.value,o.blockId="paramBlock",o.data=t,e.paramBlock=o,a.blocks=e,(i=a,l({url:`${n.api_base_url}/mobileTerminalApi.do?method=auditorDataQuery`,method:"post",data:i})).then((t=>{c.auditorListData=[...c.auditorListData,...t.data.blocks.resultBlock.data],m.value=!1,c.auditorListData.length==t.data.blocks.resultBlock.total&&(f.value=!0);let a=document.body.scrollHeight-180;u.value="height:"+a+"px"})).catch((t=>{console.log(t)}))},I=t=>{let a={};a.yjtJyInformationDetailsId=t,R(a).then((t=>{c.yjtJyInformationFileList=t.data.data})).catch((t=>{console.log(t)}))},v=t=>{z(t).then((t=>{let a={},e=c.yjtJyInformationDetails.status;a="0"==e||"1"==e?t.data.data[0]:t.data.data[1],c.yjtJyInformationDecideData=a,p.value=!0})).catch((t=>{console.log(t)}))};return{elDialogHeight:u,state:y,listData:c,showImage:e,auditorContent:o,centerDialogVisible:p,searchValue:a,loading:m,finished:f,limit:h,offset:b,status:g,options:[{value:"0",label:"未审核"},{value:"1",label:"驳回"},{value:"2",label:"审核通过"}],listData:c,onClickLeft:()=>{t.push({path:"/home"})},onLoad:()=>{console.log("aaa"),b.value=b.value+1,j({batchnumber:a.value,status:g.value})},getFileQuery:I,getAuditorDataQuery:j,statusChange:t=>{console.log("bbbb"),c.auditorListData=[],b.value=1,f.value=!1,j({batchnumber:t,status:g.value})},dateFormat:(t,a)=>{let e,l=new Date(a);const n={"Y+":l.getFullYear().toString(),"m+":(l.getMonth()+1).toString(),"d+":l.getDate().toString(),"H+":l.getHours().toString(),"M+":l.getMinutes().toString(),"S+":l.getSeconds().toString()};for(let o in n)e=new RegExp("("+o+")").exec(t),e&&(t=t.replace(e[1],1==e[1].length?n[o]:n[o].padStart(e[1].length,"0")));return t},onSearch:t=>{c.auditorListData=[],b.value=1,f.value=!1,j({batchnumber:t,status:g.value})},auditingDetails:t=>{let a={yjtJyInformationId:t.yjtJyInformationId,status:"2"};v(a),c.yjtJyInformationDetails=t,"0"!=c.yjtJyInformationDetails.exterior&&I(c.yjtJyInformationDetails.yjtJyInformationDetailsId)},seeImg:t=>{c.filePathList=[],c.filePathList=t,e.value=!0},cathodeCopperAuditorClick:t=>{if(""==o.value)return D({message:"请填写审核内容",type:"fail",className:"particulars-detail-popup"}),!1;let e={},i={},s={},r={};e.id=c.yjtJyInformationDetails.id,e.yjtJyInformationId=c.yjtJyInformationDetails.yjtJyInformationId,e.yjtJyInformationDetailsId=c.yjtJyInformationDetails.yjtJyInformationDetailsId,e.auditorContent=o.value,e.status=t,r.data=e,s.paramBlock=r,i.blocks=s;let d="";d="1"==t?"驳回":"通过",B({title:"提示",width:"600",message:"是否"+d+"这条数据？"}).then((()=>{var t;(t=i,l({url:`${n.api_base_url}/mobileTerminalApi.do?method=cathodeCopperAuditor`,method:"post",data:t})).then((t=>{"0"==t.data.status&&(D({message:t.data.returnMsg,type:"success",className:"particulars-detail-popup",overlay:!0}),c.auditorListData=[],p.value=!1,j({batchnumber:a.value,status:g.value}))})).catch((t=>{console.log(t)}))})).catch((t=>{console.log(t)}))},getQualityCheckingRecordDecide:v}}},P=t=>(F("data-v-1cf71bcb"),t=t(),M(),t),Q={class:"header"},$={style:{display:"flex","background-color":"#ffffff"}},q={class:"content"},O={style:{padding:"0px 5px 5px 5px"}},T=P((()=>c("span",{style:{"font-weight":"bold"}},"编号：",-1))),W=P((()=>c("span",{style:{"font-weight":"bold"}},"重量：",-1))),Z=P((()=>c("span",{style:{"font-weight":"bold"}},"标准：",-1))),G=P((()=>c("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),K={key:0,style:{"font-weight":"bold"}},X={style:{color:"#bbbbbb"}},tt={style:{float:"right",color:"#bbbbbb"}},at=P((()=>c("span",{style:{"font-weight":"bold"}},"编号：",-1))),et=P((()=>c("span",{style:{"font-weight":"bold"}},"重量：",-1))),lt=P((()=>c("span",{style:{"font-weight":"bold"}},"标准：",-1))),nt=P((()=>c("span",{style:{"font-weight":"bold"}},"计量员：",-1))),ot=P((()=>c("span",{style:{"font-weight":"bold"}},"扫描人：",-1))),it=P((()=>c("span",{style:{"font-weight":"bold"}},"生产日期：",-1))),st=P((()=>c("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),rt={key:3,style:{"font-weight":"bold"}},dt=P((()=>c("span",{style:{"font-weight":"bold"}},"质检时间：",-1))),ut=P((()=>c("span",{style:{"font-weight":"bold"}},"质检人：",-1))),yt={key:0},ct=P((()=>c("span",{style:{"font-weight":"bold"}},"改判理由：",-1))),pt={key:1},mt=P((()=>c("span",{style:{"font-weight":"bold"}},"备注：",-1))),ft={key:2},Dt=P((()=>c("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),gt={key:3,style:{"font-weight":"bold"}},ht=P((()=>c("span",{style:{"font-weight":"bold"}},"质检时间：",-1))),bt=P((()=>c("span",{style:{"font-weight":"bold"}},"质检人：",-1))),jt=P((()=>c("span",{style:{"font-weight":"bold"}},"改判理由：",-1))),It={key:0},vt=P((()=>c("span",{style:{"font-weight":"bold"}},"备注：",-1))),Jt={key:0,style:{"margin-top":"15px"}},kt=P((()=>c("span",{style:{"font-weight":"bold"}},"状态：",-1))),wt=P((()=>c("span",{style:{"font-weight":"bold"}},"审核人：",-1))),xt=P((()=>c("span",{style:{"font-weight":"bold"}},"审核时间：",-1))),Ct=P((()=>c("span",{style:{"font-weight":"bold"}},"审核内容：",-1))),_t={key:1},Lt={key:0,style:{"margin-top":"30px"}};t("default",o(E,[["render",function(t,a,l,n,o,i){const s=g,r=h,d=A,D=U,F=x,M=C,z=N,R=b,B=_,E=L,P=S,St=Y,Yt=V,Vt=H,Ht=e;return u(),y(f,null,[c("div",Q,[p(s,{title:"审核列表",class:"page-nav-bar","left-arrow":"",onClickLeft:n.onClickLeft},null,8,["onClickLeft"]),c("div",$,[p(r,{style:{width:"68%"},modelValue:n.searchValue,"onUpdate:modelValue":a[0]||(a[0]=t=>n.searchValue=t),shape:"round",placeholder:"请输入编号搜索",onSearch:n.onSearch},null,8,["modelValue","onSearch"]),p(D,{modelValue:n.status,"onUpdate:modelValue":a[1]||(a[1]=t=>n.status=t),clearable:"",placeholder:"状态",style:{width:"31%",float:"right","margin-top":"0.8rem"},onChange:n.statusChange},{default:m((()=>[(u(!0),y(f,null,j(n.options,(t=>(u(),I(d,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])]),c("div",q,[p(R,{loading:n.loading,"onUpdate:loading":a[2]||(a[2]=t=>n.loading=t),"immediate-check":!1,finished:n.finished,"finished-text":"没有更多了",onLoad:n.onLoad},{default:m((()=>[c("div",O,[(u(!0),y(f,null,j(n.listData.auditorListData,((t,a)=>(u(),I(z,{class:"box-card",shadow:"always",style:{"margin-top":"5px"},onClick:a=>n.auditingDetails(t)},{default:m((()=>[c("div",null,[c("p",null,[T,c("span",null,v(t.batchnumber),1)]),c("p",null,[W,c("span",null,v(parseFloat(t.suttle))+v(t.unit),1)]),c("p",null,[Z,c("span",null,v(t.standard),1)]),c("p",null,[G,c("span",null,v(t.exteriorName),1),J("    "),"0"!=t.exterior?(u(),y("span",K,"类型：")):k("",!0),c("span",null,v(t.dictName),1)]),c("p",null,["0"==t.status?(u(),I(F,{key:0,type:"primary",size:"large"},{default:m((()=>[J("未审核")])),_:1})):k("",!0),"1"==t.status?(u(),I(F,{key:1,type:"danger",size:"large"},{default:m((()=>[J("驳回")])),_:1})):k("",!0),"2"==t.status?(u(),I(F,{key:2,type:"success",size:"large"},{default:m((()=>[J("审核通过")])),_:1})):k("",!0)]),p(M,{style:{color:"#c8c8c8"}}),c("span",X,v(n.dateFormat("YYYY-mm-dd HH:MM:SS",t.checkoutDate)),1),c("span",tt,v(t.checkoutUser),1)])])),_:2},1032,["onClick"])))),256))])])),_:1},8,["loading","finished","onLoad"])]),p(Ht,{modelValue:n.centerDialogVisible,"onUpdate:modelValue":a[9]||(a[9]=t=>n.centerDialogVisible=t),"destroy-on-close":!0,title:"审核详情",width:"96%","align-center":""},{default:m((()=>[c("div",{style:w([{"overflow-y":"auto","overscroll-behavior-y":"contain"},n.elDialogHeight])},[c("div",null,[c("div",null,[p(M,{"content-position":"left"},{default:m((()=>[J("基本信息")])),_:1}),c("p",null,[at,c("span",null,v(n.listData.yjtJyInformationDetails.batchnumber),1)]),c("p",null,[et,c("span",null,v(parseFloat(n.listData.yjtJyInformationDetails.suttle))+v(n.listData.yjtJyInformationDetails.unit),1)]),c("p",null,[lt,c("span",null,v(n.listData.yjtJyInformationDetails.standard),1)]),c("p",null,[nt,c("span",null,v(n.listData.yjtJyInformationDetails.suttleperson),1),J("     "),ot,c("span",null,v(n.listData.yjtJyInformationDetails.scanUser),1)]),c("p",null,[it,c("span",null,v(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationDetails.proDate)),1)])]),c("div",null,[p(M,{"content-position":"left"},{default:m((()=>[J("历史质检信息")])),_:1}),c("div",null,[c("p",null,[st,"优等品"==n.listData.yjtJyInformationDecideData.details.exteriorName?(u(),I(F,{key:0,type:"primary",size:"medium"},{default:m((()=>[J("优等品 ")])),_:1})):k("",!0),"合格"==n.listData.yjtJyInformationDecideData.details.exteriorName?(u(),I(F,{key:1,type:"warning",size:"medium"},{default:m((()=>[J("合格 ")])),_:1})):k("",!0),"不合格"==n.listData.yjtJyInformationDecideData.details.exteriorName?(u(),I(F,{key:2,type:"danger",size:"medium"},{default:m((()=>[J("不合格 ")])),_:1})):k("",!0),J("      "),"0"!=n.listData.yjtJyInformationDecideData.details.exterior?(u(),y("span",rt,"类型：")):k("",!0),c("span",null,v(n.listData.yjtJyInformationDecideData.details.dictName),1)]),c("p",null,[dt,c("span",null,v(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationDecideData.details.checkoutDate)),1)]),c("p",null,[ut,c("span",null,v(n.listData.yjtJyInformationDecideData.details.checkoutUser),1)]),n.listData.yjtJyInformationDecideData.details.alterReason?(u(),y("p",yt,[ct,c("span",null,v(n.listData.yjtJyInformationDecideData.details.alterReason),1)])):k("",!0),n.listData.yjtJyInformationDecideData.details.remarks?(u(),y("p",pt,[mt,c("span",null,v(n.listData.yjtJyInformationDecideData.details.remarks),1)])):k("",!0),"0"!=n.listData.yjtJyInformationDecideData.details.exterior?(u(),y("div",ft,[(u(!0),y(f,null,j(n.listData.yjtJyInformationDecideData.fileList,((t,e)=>(u(),I(B,{style:{margin:"0 2%"},onClick:a[3]||(a[3]=t=>n.seeImg(n.listData.yjtJyInformationDecideData.fileList)),width:"45%",height:"8rem",fit:"cover",position:"left",src:t},null,8,["src"])))),256))])):k("",!0)])]),c("div",null,[p(M,{"content-position":"left"},{default:m((()=>[J("审核的质检信息")])),_:1}),c("p",null,[Dt,"优等品"==n.listData.yjtJyInformationDetails.exteriorName?(u(),I(F,{key:0,type:"primary",size:"medium"},{default:m((()=>[J("优等品 ")])),_:1})):k("",!0),"合格"==n.listData.yjtJyInformationDetails.exteriorName?(u(),I(F,{key:1,type:"warning",size:"medium"},{default:m((()=>[J("合格 ")])),_:1})):k("",!0),"不合格"==n.listData.yjtJyInformationDetails.exteriorName?(u(),I(F,{key:2,type:"danger",size:"medium"},{default:m((()=>[J("不合格 ")])),_:1})):k("",!0),J("    "),"0"!=n.listData.yjtJyInformationDetails.exterior?(u(),y("span",gt,"类型：")):k("",!0),c("span",null,v(n.listData.yjtJyInformationDetails.dictName),1)]),c("p",null,[ht,c("span",null,v(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationDetails.checkoutDate)),1)]),c("p",null,[bt,c("span",null,v(n.listData.yjtJyInformationDetails.checkoutUser),1)]),c("p",null,[jt,c("span",null,v(n.listData.yjtJyInformationDetails.alterReason),1)]),n.listData.yjtJyInformationDetails.remarks?(u(),y("p",It,[vt,c("span",null,v(n.listData.yjtJyInformationDetails.remarks),1)])):k("",!0)]),"0"!=n.listData.yjtJyInformationDetails.status?(u(),y("div",Jt,[c("p",null,[kt,c("span",null,v("0"===n.listData.yjtJyInformationDetails.status?"未审核":"1"===n.listData.yjtJyInformationDetails.status?"驳回":"通过"),1),J("     "),wt,c("span",null,v(n.listData.yjtJyInformationDetails.auditorUserName),1)]),c("p",null,[xt,c("span",null,v(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationDetails.auditorDate)),1)]),c("p",null,[Ct,c("span",null,v(n.listData.yjtJyInformationDetails.auditorContent),1)])])):k("",!0),"0"!=n.listData.yjtJyInformationDetails.exterior?(u(),y("div",_t,[(u(!0),y(f,null,j(n.listData.yjtJyInformationFileList,((t,e)=>(u(),I(B,{style:{margin:"0 2%"},onClick:a[4]||(a[4]=t=>n.seeImg(n.listData.yjtJyInformationFileList)),width:"45%",height:"8rem",fit:"cover",position:"left",src:t},null,8,["src"])))),256))])):k("",!0),"0"==n.listData.yjtJyInformationDetails.status?(u(),I(E,{key:2,modelValue:n.auditorContent,"onUpdate:modelValue":a[5]||(a[5]=t=>n.auditorContent=t),rows:"5",autosize:"",label:"审核内容",type:"textarea",maxlength:"50",placeholder:"请输入审核内容","show-word-limit":""},null,8,["modelValue"])):k("",!0)]),p(P,{show:n.showImage,"onUpdate:show":a[6]||(a[6]=t=>n.showImage=t),images:n.listData.filePathList,closeable:!0,loop:!1,closeOnPopstate:!0},null,8,["show","images"]),"0"==n.listData.yjtJyInformationDetails.status?(u(),y("div",Lt,[p(Vt,null,{default:m((()=>[p(St,{span:"2"}),p(St,{span:"10"},{default:m((()=>[p(Yt,{icon:"close",type:"danger",style:{width:"90%"},onClick:a[7]||(a[7]=t=>n.cathodeCopperAuditorClick("1"))},{default:m((()=>[J("驳回 ")])),_:1})])),_:1}),p(St,{span:"10"},{default:m((()=>[p(Yt,{icon:"passed",type:"success",style:{width:"90%"},onClick:a[8]||(a[8]=t=>n.cathodeCopperAuditorClick("2"))},{default:m((()=>[J("通过 ")])),_:1})])),_:1}),p(St,{span:"2"})])),_:1})])):k("",!0)],4)])),_:1},8,["modelValue"])],64)}],["__scopeId","data-v-1cf71bcb"]]))}}}));
