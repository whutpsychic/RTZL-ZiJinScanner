import{c as B,t as C,n as g,m as R,d as k,p as A,i as V,a as d,J as N,K as j,w as y,e as w,r as M,u as z,L as D,f as E,j as F,h as K,M as J,I as L,_ as U,l as Y,k as Z,o as q,x as G,A as H,z as _,N as P}from"./index-7ad4752d.js";import{u as Q}from"./index-d7f0187b.js";import{c as W}from"./mount-component-b771f396.js";const[S,I]=B("tabbar"),X={route:Boolean,fixed:C,border:C,zIndex:g,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:R(0),safeAreaInsetBottom:{type:Boolean,default:null}},T=Symbol(S);var ee=k({name:S,props:X,emits:["change","update:modelValue"],setup(e,{emit:r,slots:t}){const s=A(),{linkChildren:c}=V.useChildren(T),i=Q(s,I),u=()=>{var n;return(n=e.safeAreaInsetBottom)!=null?n:e.fixed},a=()=>{var n;const{fixed:o,zIndex:l,border:f}=e;return d("div",{ref:s,role:"tablist",style:N(l),class:[I({fixed:o}),{[j]:f,"van-safe-area-bottom":u()}]},[(n=t.default)==null?void 0:n.call(t)])};return c({props:e,setActive:(n,o)=>{W(e.beforeChange,{args:[n],done(){r("update:modelValue",n),r("change",n),o()}})}}),()=>e.fixed&&e.placeholder?i(a):a()}});const te=y(ee),[ae,p]=B("tabbar-item"),ne=w({},M,{dot:Boolean,icon:String,name:g,badge:g,badgeProps:Object,iconPrefix:String});var oe=k({name:ae,props:ne,emits:["click"],setup(e,{emit:r,slots:t}){const s=z(),c=D().proxy,{parent:i,index:u}=V.useParent(T);if(!i)return;const a=E(()=>{var o;const{route:l,modelValue:f}=i.props;if(l&&"$route"in c){const{$route:h}=c,{to:b}=e,m=J(b)?b:{path:b};return!!h.matched.find(x=>{const $="path"in m&&m.path===x.path,O="name"in m&&m.name===x.name;return $||O})}return((o=e.name)!=null?o:u.value)===f}),v=o=>{var l;a.value||i.setActive((l=e.name)!=null?l:u.value,s),r("click",o)},n=()=>{if(t.icon)return t.icon({active:a.value});if(e.icon)return d(L,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var o;const{dot:l,badge:f}=e,{activeColor:h,inactiveColor:b}=i.props,m=a.value?h:b;return d("div",{role:"tab",class:p({active:a.value}),style:{color:m},tabindex:0,"aria-selected":a.value,onClick:v},[d(F,K({dot:l,class:p("icon"),content:f},e.badgeProps),{default:n}),d("div",{class:p("text")},[(o=t.default)==null?void 0:o.call(t,{active:a.value})])])}}});const re=y(oe);const ce={setup(){const e=Y(),r=Z(),t=A(q(e.state.dhIndex));return{active:t,onChange:c=>{t.value=c,e.commit("setDhIndex",c),c==0?r.push({path:"/home"}):c==1&&r.push({path:"/my"})}}}};function se(e,r,t,s,c,i){const u=re,a=te;return G(),H(a,{modelValue:s.active,"onUpdate:modelValue":r[0]||(r[0]=v=>s.active=v),"active-color":"rgb(0 101 197)",onChange:s.onChange},{default:_(()=>[d(u,{icon:"home-o"},{default:_(()=>[P("首页")]),_:1}),d(u,{icon:"friends-o"},{default:_(()=>[P("我的")]),_:1})]),_:1},8,["modelValue","onChange"])}const de=U(ce,[["render",se]]);export{de as m};
