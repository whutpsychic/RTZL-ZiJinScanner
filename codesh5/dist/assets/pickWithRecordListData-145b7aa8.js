import"./el-tag-f8ec1a70.js";import{v as Z}from"./el-loading-526a83d3.js";import{E as B}from"./el-overlay-1f30441e.js";import{E as z,a as Q}from"./el-table-column-7d33d5e6.js";import"./el-popper-81f3a1c7.js";import{_ as j,H as W,u as X,r as c,a as J,o as K,f as q,t as S,gl as $,c as k,d as ee,e as t,k as s,L as U,g as y,w as E,ab as L,F as te,P as le,Q as C,N as oe,p as ae,j as ie}from"./index-ecb86d45.js";/* empty css              */import{g as se,d as ne,a as re}from"./pickWithRecordQuery-bb8649c7.js";import{_ as V}from"./btn_fanhui1-37aac388.js";import{_ as ce}from"./btn_tichu-bca5bbb8.js";import{a as A,s as de}from"./function-call-509584aa.js";import"./use-global-config-a7f40fa2.js";import"./objects-aa909a4b.js";import"./index-95c1965a.js";const pe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA8CAYAAADRy2JxAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjlEN0M4NzUwNUU5MTFFQUJFM0RFQTM1MEQ3QTRDRjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjlEN0M4NzYwNUU5MTFFQUJFM0RFQTM1MEQ3QTRDRjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGOUQ3Qzg3MzA1RTkxMUVBQkUzREVBMzUwRDdBNENGNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGOUQ3Qzg3NDA1RTkxMUVBQkUzREVBMzUwRDdBNENGNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhTaGmQAAAKMSURBVHja7Jq7SxxBHMd3Tz0QUSysLHwgYkDEJpVFNFhYaCFqYyUpBLEQ/AOEiDapok2w8P6As0tIIShYXiOo+MQXAUUl+IT4Or3bfAd/h8vieTu3r/H8/eAD59zN7H6c387OzK5uGIb2XkNneZZneZZn+efoBCOgDCRf+D4E8sFv8BUcm777CL6DijR104Vo8w8YAium8nIwBtpAIk2bOjgEo2Du1aMI+QysGPajz1L3p+Esopb2BiTqxjK5hWz0QqnN3joFJ5ayTXCfZVbegS1L2V9wabN+qRtpvw+q6XMcLIJlSs1UiopGZin1H011i8AgqKHfyKT9NvgBbk3lYdADPlPap9pM0jE+gUIqWwMNTtN+35RKu6DCRp0gKAbrpnNddSPtzXEODhQdvOOEVHrJxCON7CpGWNZHVl7Ppft8SHvHwfIsz/Isz/Isn+Ph1mytEbTTQibpcWf9owXUqgryYqNiEjT72Gkt4As4CjrtxQ5Prc8Z+0Fin8HTnt8A30AfnVDCQ+k8cAEiYE8FebHjMkXXYVhy00I2dNoZOrBsmgQ64MVpx4dvdSzP8izP8rk8vU1Ndgp9uNXdgDNV5EX29IJuUOLD3P4KRMGMCvL1YBxU+Zix4phLYCfoa/6GVlp+xjXNLAPveTHHFo+SO3yc2//SXHhy5NaAtwBioMCHAS+uZf/k17PR/s6NVOT7PMuzPMuzPMuzfGDyhscLFyfxIHtuduR1y6QooXBHhtOcd9YzPPM/SLzrFqHppUrv54gOqbSsLDO62XkJcR60vsFLehr0O5VvoVVU8RsSF2v9Lu3p5WVH8iK9m8AwqKO/DUWv+XvK1AnNxkNMft+e5Vme5Vme5XM8/gswAHLRRWx4YfPzAAAAAElFTkSuQmCC";const ge={setup(){W();const u=X(),i=c([]),F=J(),l=c(""),m=c(!0),w=c(null),_=c(""),e=c(!0),f=c(null),v=c([]),h=c(20),b=c(0),n=c(!0),R=c(!1);let T="";K(()=>{q.register("goback",()=>{R.value?R.value=!1:u.push({path:"/pickWithRecordQuery"})});let o=document.body.scrollHeight-170;l.value="height:"+o+"px",T=S(F.state.pickWithRecordQuery)});const x=()=>{n.value&&(b.value=b.value+1,N())},H=()=>{u.push({path:"/pickWithRecordQuery"})};let d="";const G=(o,r,a)=>{d=S(o)},O=()=>{if(d)R.value=!0,setTimeout(()=>{let o=document.body.scrollHeight-180;_.value="height:"+o+"px",e.value=!0;let r={pickno:d.F_PICKNO};se(r).then(a=>{v.value=a.data.data,e.value=!1})},200);else return A({title:"提示",width:"600",allowHtml:!0,message:'<span style="font-size: 18px">请选择一条数据</span>'}).then(()=>{}),!1},Y=()=>{if(d){if(d.F_PICKSTATE!=0)return A({title:"提示",width:"600",allowHtml:!0,message:'<span style="font-size: 18px">已装车，不能删除</span>'}).then(()=>{}),!1;de({title:"提示",width:"600",allowHtml:!0,message:'<p style="font-size: 18px"><span>确定删除车号为</span><span style="color: red;font-weight: bolder">'+d.F_TRUCKNO+"</span><span>的记录？</span></p>"}).then(()=>{le({duration:0,forbidClick:!0,className:"particulars-detail-popup",overlay:!0,message:"撤销中..."});let o={};o.F_PICKNO=d.F_PICKNO,o.F_SUTTLE=d.F_SUTTLE,o.F_DELIVERYNO=d.F_DELIVERYNO,ne(o).then(r=>{C(),A({title:"提示",width:"600",allowHtml:!0,message:'<span style="font-size: 18px">'+r.data.message+"</span>"}).then(()=>{b.value=1,i.value=[],w.value.setScrollTop(0),N()})}).catch(r=>{console.log(r),C()})}).catch(o=>{console.log(o),C()})}else return A({title:"提示",width:"600",allowHtml:!0,message:'<span style="font-size: 18px">请选择一条数据</span>'}).then(()=>{}),!1},N=()=>{d="",m.value=!0;let o={},r={},a={};a.limit=h.value,a.offset=b.value,a.blockId="paramBlock",a.data=T,r.paramBlock=a,o.blocks=r,re(o).then(p=>{i.value=[...i.value,...p.data.blocks.resultBlock.data],i.value.length==p.data.blocks.resultBlock.total&&(n.value=!1),m.value=!1})},P=(o,r,a,p)=>typeof a>"u"?"":M("YYYY-mm-dd",a),M=(o,r)=>{let a,p=new Date(r);const D={"Y+":p.getFullYear().toString(),"m+":(p.getMonth()+1).toString(),"d+":p.getDate().toString(),"H+":p.getHours().toString(),"M+":p.getMinutes().toString(),"S+":p.getSeconds().toString()};for(let I in D)a=new RegExp("("+I+")").exec(o),a&&(o=o.replace(a[1],a[1].length==1?D[I]:D[I].padStart(a[1].length,"0")));return o};return{tableHeightInfo:_,loadingInfo:e,tableRefInfo:f,tableDataInfo:v,tableData:i,tableRef:w,loading:m,tableHeight:l,limit:h,offset:b,continuation:n,centerDialogVisible:R,scrollBehavior:x,formatDate:P,dateFormat:M,onDelete:Y,onClickLeft:H,selectRow:G,showDetail:O,queryData:N}}},g=u=>(ae("data-v-ef6b67d6"),u=u(),ie(),u),ue={class:"btn-area"},be=g(()=>s("img",{src:V},null,-1)),he=g(()=>s("div",null,"返回",-1)),me=[be,he],_e=g(()=>s("img",{src:ce},null,-1)),fe=g(()=>s("div",null,"删除",-1)),ve=[_e,fe],Re=g(()=>s("img",{src:pe},null,-1)),Ae=g(()=>s("div",null,"明细",-1)),we=[Re,Ae],Ne={id:"contentInfo"},De={class:"btn-area"},Ie=g(()=>s("img",{src:V},null,-1)),ke=g(()=>s("div",null,"返回",-1)),Ee=[Ie,ke];function Ce(u,i,F,l,m,w){const _=oe,e=Q,f=z,v=B,h=Z,b=$("el-table-infinite-scroll");return k(),ee(te,null,[t(_,{title:"拣配单查询结果",class:"page-nav-bar","left-arrow":"",onClickLeft:l.onClickLeft},null,8,["onClickLeft"]),s("div",null,[U((k(),y(f,{data:l.tableData,ref:"tableRef",style:L(l.tableHeight),"element-loading-text":"数据加载中...","element-loading-background":"rgba(122, 122, 122, 0.8)",onRowClick:l.selectRow},{default:E(()=>[t(e,{fixed:"",prop:"F_PICKDATE",label:"拣配日期",width:"100px",formatter:l.formatDate},null,8,["formatter"]),t(e,{prop:"F_TRUCKNO",label:"车号",width:"100px"}),t(e,{prop:"F_RECIVE",label:"收货单位",width:"100px"}),t(e,{prop:"F_PICKSTATE_NAME",label:"拣配状态",width:"100px"}),t(e,{prop:"F_CONTRACT",label:"合同号"}),t(e,{prop:"F_DELIVERYNO",label:"发货单号",width:"110px"}),t(e,{prop:"F_RECIVE",label:"收货单位",width:"100px"}),t(e,{prop:"F_PRODUCTCODE",label:"产品编码",width:"110px"}),t(e,{prop:"F_PRODUCTNAME",label:"产品名称",width:"100px"}),t(e,{prop:"F_BATCHGROUP",label:"批次号",width:"100px"}),t(e,{prop:"F_UNIT",label:"计量单位",width:"90px"}),t(e,{prop:"F_SUTTLE",label:"重量"}),t(e,{prop:"F_COUNT",label:"数量"}),t(e,{prop:"F_STORENAME",label:"仓库"}),t(e,{prop:"F_CONTENT",label:"备注"}),t(e,{prop:"F_PICKPERSON",label:"拣配人"})]),_:1},8,["data","style","onRowClick"])),[[h,l.loading],[b,l.scrollBehavior]]),s("div",ue,[s("div",{onClick:i[0]||(i[0]=(...n)=>l.onClickLeft&&l.onClickLeft(...n))},me),s("div",{onClick:i[1]||(i[1]=(...n)=>l.onDelete&&l.onDelete(...n))},ve),s("div",{onClick:i[2]||(i[2]=(...n)=>l.showDetail&&l.showDetail(...n))},we)])]),t(v,{class:"elDialogInfo",modelValue:l.centerDialogVisible,"onUpdate:modelValue":i[4]||(i[4]=n=>l.centerDialogVisible=n),"destroy-on-close":!0,"show-close":!1,title:"拣配单明细",fullscreen:"","align-center":""},{default:E(()=>[s("div",Ne,[U((k(),y(f,{data:l.tableDataInfo,ref:"tableRefInfo",style:L(l.tableHeightInfo),"element-loading-text":"数据加载中...","element-loading-background":"rgba(122, 122, 122, 0.8)"},{default:E(()=>[t(e,{fixed:"",prop:"F_PICKNO",label:"拣配单号",width:"110px"}),t(e,{prop:"F_BATCHGROUP",label:"批次号"}),t(e,{prop:"F_BATCHNUMBER",label:"批次编码",width:"110px"}),t(e,{prop:"F_SUTTLE",label:"重量"}),t(e,{prop:"F_BLOCKS",label:"块数"}),t(e,{prop:"F_UNIT",label:"计量单位",width:"110px"})]),_:1},8,["data","style"])),[[h,l.loadingInfo]]),s("div",De,[s("div",{onClick:i[3]||(i[3]=n=>l.centerDialogVisible=!1),style:{margin:"0 auto"}},Ee)])])]),_:1},8,["modelValue"])],64)}const Ze=j(ge,[["render",Ce],["__scopeId","data-v-ef6b67d6"]]);export{Ze as default};
