System.register(["./index-legacy-0cf7cbfd.js","./el-overlay-legacy-899cb864.js","./index-legacy-0d5e818d.js","./el-card-legacy-0431da63.js","./index-legacy-d8cde682.js","./index-legacy-eda59a38.js"],(function(e,t){"use strict";var a,l,n,i,o,s,d,r,c,u,p,y,h,f,g,m,b,k,v,D,w,x,C,L,I,j,_,S,J,F,N,V;return{setters:[null,e=>{a=e.E},e=>{l=e.a6,n=e.a7,i=e._,o=e.f,s=e.s,d=e.u,r=e.r,c=e.J,u=e.b,p=e.c,y=e.j,h=e.d,f=e.w,g=e.F,m=e.N,b=e.a8,k=e.a9,v=e.O,D=e.e,w=e.k,x=e.U,C=e.g,L=e.V,I=e.ab,j=e.Y,_=e.S,S=e.p,J=e.i,F=e.Z},e=>{N=e.a,V=e.E},null,null],execute:function(){var t=document.createElement("style");t.textContent=".header[data-v-efc0a69e]{width:100%;height:95px;line-height:95px;position:absolute;z-index:5;top:0}.content[data-v-efc0a69e]{width:100%;overflow:scroll;top:95px;position:absolute;z-index:10;bottom:5px}\n",document.head.appendChild(t);const q={setup(){o.await("scanner",(e=>{"null"!=e?(i.qualityCheckingList=[],f.value=1,y.value=!0,g({batchnumber:"",barcode:e})):s({message:"数据获取失败",type:"fail",className:"particulars-detail-popup"})}));const e=d(),t=r(""),a=r(!1),i=c({qualityCheckingList:[],yjtJyInformationData:{},yjtJyInformationDecideDataList:[],filePathList:[]}),u=r(!1),p=r(!1),y=r(!1),h=r(10),f=r(0);function g(e){let t={},a={},o={};var s;o.limit=h.value,o.offset=f.value,o.blockId="paramBlock",o.data=e,a.paramBlock=o,t.blocks=a,(s=t,l({url:`${n.api_base_url}/mobileTerminalApi.do?method=qualityCheckingRecord`,method:"post",data:s})).then((e=>{i.qualityCheckingList=[...i.qualityCheckingList,...e.data.blocks.resultBlock.data],p.value=!1,i.qualityCheckingList.length==e.data.blocks.resultBlock.total&&(y.value=!0)})).catch((e=>{console.log(e)}))}return{showImage:u,centerDialogVisible:a,searchValue:t,loading:p,finished:y,limit:h,offset:f,listData:i,onClickLeft:()=>{e.push({path:"/home"})},onLoad:()=>{f.value=f.value+1,g({batchnumber:t.value,barcode:""})},statusChange:()=>{f.value=1,i.qualityCheckingList=[],y.value=!1,g({batchnumber:t.value,barcode:""})},dateFormat:(e,t)=>{let a,l=new Date(t);const n={"Y+":l.getFullYear().toString(),"m+":(l.getMonth()+1).toString(),"d+":l.getDate().toString(),"H+":l.getHours().toString(),"M+":l.getMinutes().toString(),"S+":l.getSeconds().toString()};for(let i in n)a=new RegExp("("+i+")").exec(e),a&&(e=e.replace(a[1],1==a[1].length?n[i]:n[i].padStart(a[1].length,"0")));return e},onSearch:()=>{f.value=1,i.qualityCheckingList=[],y.value=!1,g({batchnumber:t.value,barcode:""})},qualityCheckingRecordDetails:e=>{var t,o;i.yjtJyInformationData=e,"1"==e.state&&(t={yjtJyInformationId:e.id,status:"2"},(o=t,l({url:`${n.api_base_url}/mobileTerminalApi.do?method=qualityCheckingRecordDecide`,method:"get",params:o})).then((e=>{i.yjtJyInformationDecideDataList=e.data.data})).catch((e=>{console.log(e)}))),a.value=!0},scanClick:()=>{o.scan()},seeImg:e=>{i.filePathList=[],i.filePathList=e,u.value=!0}}}},Y=e=>(S("data-v-efc0a69e"),e=e(),J(),e),M={class:"header"},R={style:{display:"flex","background-color":"#ffffff"}},U={id:"content",class:"content"},H={style:{padding:"0px 5px 5px 5px"}},P=Y((()=>y("span",{style:{"font-weight":"bold"}},"编号：",-1))),B=Y((()=>y("span",{style:{"font-weight":"bold"}},"重量：",-1))),E={key:0,style:{"margin-left":"30px"}},z={key:0},A={key:1},O={key:2},T={style:{"overflow-y":"auto","overscroll-behavior-y":"contain",height:"calc(100vh - 180px)"}},$=Y((()=>y("span",{style:{"font-weight":"bold"}},"编号：",-1))),Z=Y((()=>y("span",{style:{"font-weight":"bold"}},"重量：",-1))),G=Y((()=>y("span",{style:{"font-weight":"bold"}},"标准：",-1))),K=Y((()=>y("span",{style:{"font-weight":"bold"}},"计量员：",-1))),Q=Y((()=>y("span",{style:{"font-weight":"bold"}},"扫描人：",-1))),W=Y((()=>y("span",{style:{"font-weight":"bold"}},"生产日期：",-1))),X={key:0},ee=Y((()=>y("span",{style:{"font-weight":"bold"}},"是否最新：",-1))),te=Y((()=>y("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),ae={key:0,style:{"font-weight":"bold"}},le=Y((()=>y("span",{style:{"font-weight":"bold"}},"质检时间：",-1))),ne=Y((()=>y("span",{style:{"font-weight":"bold"}},"质检人：",-1))),ie={key:0},oe=Y((()=>y("span",{style:{"font-weight":"bold"}},"改判理由：",-1))),se={key:1};e("default",i(q,[["render",function(e,t,l,n,i,o){const s=L,d=m,r=b,c=N,S=I,J=V,q=k,Y=j,de=F,re=_,ce=a;return u(),p(g,null,[y("div",M,[h(d,{title:"质检记录列表",class:"page-nav-bar","left-arrow":"",onClickLeft:n.onClickLeft},{right:f((()=>[h(s,{onClick:n.scanClick,style:{color:"#FFFFFF"},name:"scan",size:"40"},null,8,["onClick"])])),_:1},8,["onClickLeft"]),y("div",R,[h(r,{style:{width:"100%"},modelValue:n.searchValue,"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchValue=e),shape:"round",placeholder:"请输入编号搜索",onSearch:n.onSearch},null,8,["modelValue","onSearch"])])]),y("div",U,[h(q,{loading:n.loading,"onUpdate:loading":t[1]||(t[1]=e=>n.loading=e),finished:n.finished,offset:"50","finished-text":"没有更多了",onLoad:n.onLoad},{default:f((()=>[y("div",H,[(u(!0),p(g,null,v(n.listData.qualityCheckingList,((e,t)=>(u(),D(J,{class:"box-card",shadow:"always",style:{"margin-top":"5px"},onClick:t=>n.qualityCheckingRecordDetails(e)},{default:f((()=>[y("div",null,[y("p",null,[P,y("span",null,w(e.batchnumber),1)]),y("p",null,[B,y("span",null,w(parseFloat(e.suttle))+w(e.unit),1),e.exteriorName?(u(),p("span",E,["优等品"==e.exteriorName?(u(),p("span",z,[h(c,null,{default:f((()=>[x(w(e.exteriorName),1)])),_:2},1024)])):C("",!0),"合格"==e.exteriorName?(u(),p("span",A,[h(c,{type:"warning"},{default:f((()=>[x(w(e.exteriorName),1)])),_:2},1024)])):C("",!0),"不合格"==e.exteriorName?(u(),p("span",O,[h(c,{type:"danger"},{default:f((()=>[x(w(e.exteriorName),1)])),_:2},1024)])):C("",!0)])):C("",!0)]),"0"==e.state?(u(),D(S,{key:0,type:"primary"},{default:f((()=>[x("未质检")])),_:1})):C("",!0),"1"==e.state?(u(),D(S,{key:1,type:"success"},{default:f((()=>[x("已质检")])),_:1})):C("",!0)])])),_:2},1032,["onClick"])))),256))])])),_:1},8,["loading","finished","onLoad"])]),h(ce,{modelValue:n.centerDialogVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>n.centerDialogVisible=e),"destroy-on-close":!0,title:"质检记录详情",width:"96%","align-center":""},{default:f((()=>[y("div",T,[y("div",null,[h(Y,{"content-position":"left"},{default:f((()=>[x("基本信息")])),_:1}),y("p",null,[$,y("span",null,w(n.listData.yjtJyInformationData.batchnumber),1)]),y("p",null,[Z,y("span",null,w(parseFloat(n.listData.yjtJyInformationData.suttle))+w(n.listData.yjtJyInformationData.unit),1)]),y("p",null,[G,y("span",null,w(n.listData.yjtJyInformationData.standard),1)]),y("p",null,[K,y("span",null,w(n.listData.yjtJyInformationData.suttleperson),1),x("     "),Q,y("span",null,w(n.listData.yjtJyInformationData.scanUser),1)]),y("p",null,[W,x(w(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationData.proDate)),1)])]),"1"==n.listData.yjtJyInformationData.state?(u(),p("div",X,[h(Y,{"content-position":"left"},{default:f((()=>[x("质检信息")])),_:1}),(u(!0),p(g,null,v(n.listData.yjtJyInformationDecideDataList,((e,t)=>(u(),p("div",null,[y("div",null,[y("p",null,[ee,"0"==e.details.isNew?(u(),D(c,{key:0,type:"success"},{default:f((()=>[x("是")])),_:1})):C("",!0),"1"==e.details.isNew?(u(),D(c,{key:1,type:"danger"},{default:f((()=>[x("否")])),_:1})):C("",!0)]),y("p",null,[te,y("span",null,w(e.details.exteriorName),1),x("     "),"0"!=e.details.exterior?(u(),p("span",ae,"类型：")):C("",!0),y("span",null,w(e.details.dictName),1)]),y("p",null,[le,x(w(n.dateFormat("YYYY-mm-dd HH:MM:SS",e.details.checkoutDate)),1)]),y("p",null,[ne,y("span",null,w(e.details.checkoutUser),1)]),e.details.alterReason?(u(),p("p",ie,[oe,y("span",null,w(e.details.alterReason),1)])):C("",!0),"0"!=e.details.exterior?(u(),p("div",se,[(u(!0),p(g,null,v(e.fileList,((t,a)=>(u(),D(de,{style:{margin:"0 2%"},onClick:t=>n.seeImg(e.fileList),width:"45%",height:"8rem",fit:"cover",position:"left",src:t},null,8,["onClick","src"])))),256))])):C("",!0),h(Y)])])))),256))])):C("",!0)]),h(re,{show:n.showImage,"onUpdate:show":t[2]||(t[2]=e=>n.showImage=e),images:n.listData.filePathList,closeable:!0,loop:!1,closeOnPopstate:!0},null,8,["show","images"])])),_:1},8,["modelValue"])],64)}],["__scopeId","data-v-efc0a69e"]]))}}}));
