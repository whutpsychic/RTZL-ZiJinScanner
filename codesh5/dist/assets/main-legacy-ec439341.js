System.register(["./index-legacy-5b4d67d4.js","./el-overlay-legacy-5b124c1c.js","./index-legacy-f48602d5.js","./el-card-legacy-c3f81bdb.js","./index-legacy-d8cde682.js","./index-legacy-eda59a38.js"],(function(e,t){"use strict";var a,l,n,i,o,s,d,r,c,u,p,h,y,g,f,m,b,k,v,w,D,x,C,L,I,j,S,_,J,N,q;return{setters:[null,e=>{a=e.E},e=>{l=e.a9,n=e.aa,i=e._,o=e.f,s=e.s,d=e.u,r=e.r,c=e.S,u=e.b,p=e.c,h=e.j,y=e.d,g=e.w,f=e.F,m=e.N,b=e.ab,k=e.ac,v=e.Z,w=e.O,D=e.k,x=e.g,C=e.a1,L=e.Y,I=e.e,j=e.p,S=e.i,_=e.ae,J=e.a3},e=>{N=e.a,q=e.E},null,null],execute:function(){var V=document.createElement("style");V.textContent=".header[data-v-f65edcd1]{width:100%;height:95px;line-height:95px;position:absolute;z-index:5;top:0}.content[data-v-f65edcd1]{width:100%;overflow:scroll;top:95px;position:absolute;z-index:10;bottom:5px}\n",document.head.appendChild(V);const Y=""+new URL("../image/saoma.png",t.meta.url).href,R={setup(){o.await("scanner",(e=>{"null"!=e?(i.qualityCheckingList=[],g.value=1,h.value=!0,f({batchnumber:"",barcode:e})):s({message:"数据获取失败",type:"fail",className:"particulars-detail-popup"})}));const e=d(),t=r(""),a=r(!1),i=c({qualityCheckingList:[],yjtJyInformationData:{},yjtJyInformationDecideDataList:[],filePathList:[]}),u=r(!1),p=r(!1),h=r(!1),y=r(10),g=r(0);function f(e){let t={},a={},o={};var s;o.limit=y.value,o.offset=g.value,o.blockId="paramBlock",o.data=e,a.paramBlock=o,t.blocks=a,(s=t,l({url:`${n.api_base_url}/mobileTerminalApi.do?method=qualityCheckingRecord`,method:"post",data:s})).then((e=>{i.qualityCheckingList=[...i.qualityCheckingList,...e.data.blocks.resultBlock.data],p.value=!1,i.qualityCheckingList.length==e.data.blocks.resultBlock.total&&(h.value=!0)})).catch((e=>{console.log(e)}))}return{showImage:u,centerDialogVisible:a,searchValue:t,loading:p,finished:h,limit:y,offset:g,listData:i,onClickLeft:()=>{e.push({path:"/home"})},onLoad:()=>{g.value=g.value+1,f({batchnumber:t.value,barcode:""})},statusChange:()=>{g.value=1,i.qualityCheckingList=[],h.value=!1,f({batchnumber:t.value,barcode:""})},dateFormat:(e,t)=>{let a,l=new Date(t);const n={"Y+":l.getFullYear().toString(),"m+":(l.getMonth()+1).toString(),"d+":l.getDate().toString(),"H+":l.getHours().toString(),"M+":l.getMinutes().toString(),"S+":l.getSeconds().toString()};for(let i in n)a=new RegExp("("+i+")").exec(e),a&&(e=e.replace(a[1],1==a[1].length?n[i]:n[i].padStart(a[1].length,"0")));return e},onSearch:()=>{g.value=1,i.qualityCheckingList=[],h.value=!1,f({batchnumber:t.value,barcode:""})},qualityCheckingRecordDetails:e=>{var t,o;i.yjtJyInformationData=e,"1"==e.state&&(t={yjtJyInformationId:e.id,status:"2"},(o=t,l({url:`${n.api_base_url}/mobileTerminalApi.do?method=qualityCheckingRecordDecide`,method:"get",params:o})).then((e=>{i.yjtJyInformationDecideDataList=e.data.data})).catch((e=>{console.log(e)}))),a.value=!0},scanClick:()=>{o.scan()},seeImg:e=>{i.filePathList=[],i.filePathList=e,u.value=!0}}}},F=e=>(j("data-v-f65edcd1"),e=e(),S(),e),M={class:"header"},U={style:{display:"flex","background-color":"#ffffff"}},H={id:"content",class:"content"},P={style:{padding:"0px 5px 5px 5px"}},B=F((()=>h("span",{style:{"font-weight":"bold"}},"编号：",-1))),E=F((()=>h("span",{style:{"font-weight":"bold"}},"重量：",-1))),z={key:0,style:{"margin-left":"30px"}},A={key:0},O={key:1},T={key:2},$={style:{"overflow-y":"auto","overscroll-behavior-y":"contain",height:"calc(100vh - 180px)"}},Z=F((()=>h("span",{style:{"font-weight":"bold"}},"编号：",-1))),G=F((()=>h("span",{style:{"font-weight":"bold"}},"重量：",-1))),K=F((()=>h("span",{style:{"font-weight":"bold"}},"标准：",-1))),Q=F((()=>h("span",{style:{"font-weight":"bold"}},"计量员：",-1))),W=F((()=>h("span",{style:{"font-weight":"bold"}},"扫描人：",-1))),X=F((()=>h("span",{style:{"font-weight":"bold"}},"生产日期：",-1))),ee={key:0},te=F((()=>h("span",{style:{"font-weight":"bold"}},"是否最新：",-1))),ae=F((()=>h("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),le={key:0,style:{"font-weight":"bold"}},ne=F((()=>h("span",{style:{"font-weight":"bold"}},"质检时间：",-1))),ie=F((()=>h("span",{style:{"font-weight":"bold"}},"质检人：",-1))),oe={key:0},se=F((()=>h("span",{style:{"font-weight":"bold"}},"改判理由：",-1))),de={key:1};e("default",i(R,[["render",function(e,t,l,n,i,o){const s=m,d=b,r=N,c=_,j=q,S=k,V=C,R=J,F=L,re=a;return u(),p(f,null,[h("div",M,[y(s,{title:"质检记录列表",class:"page-nav-bar","left-arrow":"",onClickLeft:n.onClickLeft},null,8,["onClickLeft"]),h("div",U,[y(d,{style:{width:"80%"},modelValue:n.searchValue,"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchValue=e),shape:"round",placeholder:"请输入编号搜索",onSearch:n.onSearch},null,8,["modelValue","onSearch"]),h("img",{style:{width:"55px",height:"55px"},src:Y,onClick:t[1]||(t[1]=(...e)=>n.scanClick&&n.scanClick(...e))})])]),h("div",H,[y(S,{loading:n.loading,"onUpdate:loading":t[2]||(t[2]=e=>n.loading=e),finished:n.finished,offset:"50","finished-text":"没有更多了",onLoad:n.onLoad},{default:g((()=>[h("div",P,[(u(!0),p(f,null,v(n.listData.qualityCheckingList,((e,t)=>(u(),I(j,{class:"box-card",shadow:"always",style:{"margin-top":"5px"},onClick:t=>n.qualityCheckingRecordDetails(e)},{default:g((()=>[h("div",null,[h("p",null,[B,h("span",null,D(e.batchnumber),1)]),h("p",null,[E,h("span",null,D(parseFloat(e.suttle))+D(e.unit),1),e.exteriorName?(u(),p("span",z,["优等品"==e.exteriorName?(u(),p("span",A,[y(r,null,{default:g((()=>[w(D(e.exteriorName),1)])),_:2},1024)])):x("",!0),"合格"==e.exteriorName?(u(),p("span",O,[y(r,{type:"warning"},{default:g((()=>[w(D(e.exteriorName),1)])),_:2},1024)])):x("",!0),"不合格"==e.exteriorName?(u(),p("span",T,[y(r,{type:"danger"},{default:g((()=>[w(D(e.exteriorName),1)])),_:2},1024)])):x("",!0)])):x("",!0)]),"0"==e.state?(u(),I(c,{key:0,type:"primary"},{default:g((()=>[w("未质检")])),_:1})):x("",!0),"1"==e.state?(u(),I(c,{key:1,type:"success"},{default:g((()=>[w("已质检")])),_:1})):x("",!0)])])),_:2},1032,["onClick"])))),256))])])),_:1},8,["loading","finished","onLoad"])]),y(re,{modelValue:n.centerDialogVisible,"onUpdate:modelValue":t[4]||(t[4]=e=>n.centerDialogVisible=e),"destroy-on-close":!0,title:"质检记录详情",width:"96%","align-center":""},{default:g((()=>[h("div",$,[h("div",null,[y(V,{"content-position":"left"},{default:g((()=>[w("基本信息")])),_:1}),h("p",null,[Z,h("span",null,D(n.listData.yjtJyInformationData.batchnumber),1)]),h("p",null,[G,h("span",null,D(parseFloat(n.listData.yjtJyInformationData.suttle))+D(n.listData.yjtJyInformationData.unit),1)]),h("p",null,[K,h("span",null,D(n.listData.yjtJyInformationData.standard),1)]),h("p",null,[Q,h("span",null,D(n.listData.yjtJyInformationData.suttleperson),1),w("     "),W,h("span",null,D(n.listData.yjtJyInformationData.scanUser),1)]),h("p",null,[X,w(D(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationData.proDate)),1)])]),"1"==n.listData.yjtJyInformationData.state?(u(),p("div",ee,[y(V,{"content-position":"left"},{default:g((()=>[w("质检信息")])),_:1}),(u(!0),p(f,null,v(n.listData.yjtJyInformationDecideDataList,((e,t)=>(u(),p("div",null,[h("div",null,[h("p",null,[te,"0"==e.details.isNew?(u(),I(r,{key:0,type:"success"},{default:g((()=>[w("是")])),_:1})):x("",!0),"1"==e.details.isNew?(u(),I(r,{key:1,type:"danger"},{default:g((()=>[w("否")])),_:1})):x("",!0)]),h("p",null,[ae,h("span",null,D(e.details.exteriorName),1),w("     "),"0"!=e.details.exterior?(u(),p("span",le,"类型：")):x("",!0),h("span",null,D(e.details.dictName),1)]),h("p",null,[ne,w(D(n.dateFormat("YYYY-mm-dd HH:MM:SS",e.details.checkoutDate)),1)]),h("p",null,[ie,h("span",null,D(e.details.checkoutUser),1)]),e.details.alterReason?(u(),p("p",oe,[se,h("span",null,D(e.details.alterReason),1)])):x("",!0),"0"!=e.details.exterior?(u(),p("div",de,[(u(!0),p(f,null,v(e.fileList,((t,a)=>(u(),I(R,{style:{margin:"0 2%"},onClick:t=>n.seeImg(e.fileList),width:"45%",height:"8rem",fit:"cover",position:"left",src:t},null,8,["onClick","src"])))),256))])):x("",!0),y(V)])])))),256))])):x("",!0)]),y(F,{show:n.showImage,"onUpdate:show":t[3]||(t[3]=e=>n.showImage=e),images:n.listData.filePathList,closeable:!0,loop:!1,closeOnPopstate:!0},null,8,["show","images"])])),_:1},8,["modelValue"])],64)}],["__scopeId","data-v-f65edcd1"]]))}}}));
