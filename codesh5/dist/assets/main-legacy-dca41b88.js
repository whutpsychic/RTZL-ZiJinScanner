System.register(["./el-tag-legacy-0e2112c8.js","./el-overlay-legacy-dde65f27.js","./index-legacy-1e91cb58.js","./el-card-legacy-b54939ff.js","./index-legacy-2f76a666.js","./index-legacy-d8cde682.js","./index-legacy-eda59a38.js","./index-legacy-18abbe53.js","./use-global-config-legacy-0ca665cc.js","./objects-legacy-23bca06d.js"],(function(e,t){"use strict";var a,l,n,i,o,s,d,r,u,c,p,y,h,f,g,m,b,k,v,D,w,x,C,j,L,I,_,S,J,q,F,N;return{setters:[null,e=>{a=e.E},e=>{l=e.a5,n=e.a6,i=e._,o=e.u,s=e.r,d=e.H,r=e.I,u=e.J,c=e.b,p=e.c,y=e.i,h=e.d,f=e.w,g=e.F,m=e.N,b=e.a7,k=e.a8,v=e.O,D=e.e,w=e.j,x=e.U,C=e.f,j=e.V,L=e.aa,I=e.Y,_=e.S,S=e.p,J=e.h,q=e.Z},e=>{F=e.E},null,null,null,e=>{N=e.E},null,null],execute:function(){var t=document.createElement("style");t.textContent=".header[data-v-df89f3fe]{width:100%;height:95px;line-height:95px;position:absolute;z-index:5;top:0}.content[data-v-df89f3fe]{width:100%;overflow:scroll;top:95px;position:absolute;z-index:10;bottom:5px}\n",document.head.appendChild(t);const V={setup(){const e=o(),t=s(""),a=s(!1),i=d({qualityCheckingList:[],yjtJyInformationData:{},yjtJyInformationDecideDataList:[],filePathList:[]}),c=s(!1),p=s(!1),y=s(!1),h=s(10),f=s(0);r.await("scanner",(t=>{"/qualityCheckingRecord"==e.currentRoute.value.path&&("null"!=t?(i.qualityCheckingList=[],f.value=1,y.value=!0,m({batchnumber:"",barcode:t})):u({message:"数据获取失败",type:"fail",className:"particulars-detail-popup"}))}));const g=e=>{var t;(t=e,l({url:`${n.api_base_url}/mobileTerminalApi.do?method=qualityCheckingRecordDecide`,method:"get",params:t})).then((e=>{i.yjtJyInformationDecideDataList=e.data.data})).catch((e=>{console.log(e)}))},m=e=>{let t={},a={},o={};var s;o.limit=h.value,o.offset=f.value,o.blockId="paramBlock",o.data=e,a.paramBlock=o,t.blocks=a,(s=t,l({url:`${n.api_base_url}/mobileTerminalApi.do?method=qualityCheckingRecord`,method:"post",data:s})).then((e=>{i.qualityCheckingList=[...i.qualityCheckingList,...e.data.blocks.resultBlock.data],p.value=!1,i.qualityCheckingList.length==e.data.blocks.resultBlock.total&&(y.value=!0)})).catch((e=>{console.log(e)}))};return{showImage:c,centerDialogVisible:a,searchValue:t,loading:p,finished:y,limit:h,offset:f,listData:i,onClickLeft:()=>{e.push({path:"/home"})},onLoad:()=>{f.value=f.value+1,m({batchnumber:t.value,barcode:""})},statusChange:()=>{f.value=1,i.qualityCheckingList=[],y.value=!1,m({batchnumber:t.value,barcode:""})},dateFormat:(e,t)=>{let a,l=new Date(t);const n={"Y+":l.getFullYear().toString(),"m+":(l.getMonth()+1).toString(),"d+":l.getDate().toString(),"H+":l.getHours().toString(),"M+":l.getMinutes().toString(),"S+":l.getSeconds().toString()};for(let i in n)a=new RegExp("("+i+")").exec(e),a&&(e=e.replace(a[1],1==a[1].length?n[i]:n[i].padStart(a[1].length,"0")));return e},onSearch:()=>{f.value=1,i.qualityCheckingList=[],y.value=!1,m({batchnumber:t.value,barcode:""})},qualityCheckingRecordDetails:e=>{if(i.yjtJyInformationData=e,"1"==e.state){let t={yjtJyInformationId:e.id,status:"2"};g(t)}a.value=!0},scanClick:()=>{r.scan()},seeImg:e=>{i.filePathList=[],i.filePathList=e,c.value=!0},getQualityCheckingRecordDecide:g,getQualityCheckingRecord:m}}},R=e=>(S("data-v-df89f3fe"),e=e(),J(),e),Y={class:"header"},H={style:{display:"flex","background-color":"#ffffff"}},M={id:"content",class:"content"},U={style:{padding:"0px 5px 5px 5px"}},E=R((()=>y("span",{style:{"font-weight":"bold"}},"编号：",-1))),P=R((()=>y("span",{style:{"font-weight":"bold"}},"重量：",-1))),B={key:0,style:{"margin-left":"30px"}},z={key:0},A={key:1},O={key:2},Q={style:{"overflow-y":"auto","overscroll-behavior-y":"contain",height:"calc(100vh - 180px)"}},T=R((()=>y("span",{style:{"font-weight":"bold"}},"编号：",-1))),$=R((()=>y("span",{style:{"font-weight":"bold"}},"重量：",-1))),Z=R((()=>y("span",{style:{"font-weight":"bold"}},"标准：",-1))),G=R((()=>y("span",{style:{"font-weight":"bold"}},"计量员：",-1))),K=R((()=>y("span",{style:{"font-weight":"bold"}},"扫描人：",-1))),W=R((()=>y("span",{style:{"font-weight":"bold"}},"生产日期：",-1))),X={key:0},ee=R((()=>y("span",{style:{"font-weight":"bold"}},"是否最新：",-1))),te=R((()=>y("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),ae={key:0,style:{"font-weight":"bold"}},le=R((()=>y("span",{style:{"font-weight":"bold"}},"质检时间：",-1))),ne=R((()=>y("span",{style:{"font-weight":"bold"}},"质检人：",-1))),ie={key:0},oe=R((()=>y("span",{style:{"font-weight":"bold"}},"改判理由：",-1))),se={key:1};e("default",i(V,[["render",function(e,t,l,n,i,o){const s=j,d=m,r=b,u=N,S=L,J=F,V=k,R=I,de=q,re=_,ue=a;return c(),p(g,null,[y("div",Y,[h(d,{title:"质检记录列表",class:"page-nav-bar","left-arrow":"",onClickLeft:n.onClickLeft},{right:f((()=>[h(s,{onClick:n.scanClick,style:{color:"#FFFFFF"},name:"scan",size:"40"},null,8,["onClick"])])),_:1},8,["onClickLeft"]),y("div",H,[h(r,{style:{width:"100%"},modelValue:n.searchValue,"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchValue=e),shape:"round",placeholder:"请输入编号搜索",onSearch:n.onSearch},null,8,["modelValue","onSearch"])])]),y("div",M,[h(V,{loading:n.loading,"onUpdate:loading":t[1]||(t[1]=e=>n.loading=e),finished:n.finished,offset:"50","finished-text":"没有更多了",onLoad:n.onLoad},{default:f((()=>[y("div",U,[(c(!0),p(g,null,v(n.listData.qualityCheckingList,((e,t)=>(c(),D(J,{class:"box-card",shadow:"always",style:{"margin-top":"5px"},onClick:t=>n.qualityCheckingRecordDetails(e)},{default:f((()=>[y("div",null,[y("p",null,[E,y("span",null,w(e.batchnumber),1)]),y("p",null,[P,y("span",null,w(parseFloat(e.suttle))+w(e.unit),1),e.exteriorName?(c(),p("span",B,["优等品"==e.exteriorName?(c(),p("span",z,[h(u,null,{default:f((()=>[x(w(e.exteriorName),1)])),_:2},1024)])):C("",!0),"合格"==e.exteriorName?(c(),p("span",A,[h(u,{type:"warning"},{default:f((()=>[x(w(e.exteriorName),1)])),_:2},1024)])):C("",!0),"不合格"==e.exteriorName?(c(),p("span",O,[h(u,{type:"danger"},{default:f((()=>[x(w(e.exteriorName),1)])),_:2},1024)])):C("",!0)])):C("",!0)]),"0"==e.state?(c(),D(S,{key:0,type:"primary"},{default:f((()=>[x("未质检")])),_:1})):C("",!0),"1"==e.state?(c(),D(S,{key:1,type:"success"},{default:f((()=>[x("已质检")])),_:1})):C("",!0)])])),_:2},1032,["onClick"])))),256))])])),_:1},8,["loading","finished","onLoad"])]),h(ue,{modelValue:n.centerDialogVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>n.centerDialogVisible=e),"destroy-on-close":!0,title:"质检记录详情",width:"96%","align-center":""},{default:f((()=>[y("div",Q,[y("div",null,[h(R,{"content-position":"left"},{default:f((()=>[x("基本信息")])),_:1}),y("p",null,[T,y("span",null,w(n.listData.yjtJyInformationData.batchnumber),1)]),y("p",null,[$,y("span",null,w(parseFloat(n.listData.yjtJyInformationData.suttle))+w(n.listData.yjtJyInformationData.unit),1)]),y("p",null,[Z,y("span",null,w(n.listData.yjtJyInformationData.standard),1)]),y("p",null,[G,y("span",null,w(n.listData.yjtJyInformationData.suttleperson),1),x("      "),K,y("span",null,w(n.listData.yjtJyInformationData.scanUser),1)]),y("p",null,[W,y("span",null,w(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationData.proDate)),1)])]),"1"==n.listData.yjtJyInformationData.state?(c(),p("div",X,[h(R,{"content-position":"left"},{default:f((()=>[x("质检信息")])),_:1}),(c(!0),p(g,null,v(n.listData.yjtJyInformationDecideDataList,((e,t)=>(c(),p("div",null,[y("div",null,[y("p",null,[ee,"0"==e.details.isNew?(c(),D(u,{key:0,type:"success"},{default:f((()=>[x("是")])),_:1})):C("",!0),"1"==e.details.isNew?(c(),D(u,{key:1,type:"danger"},{default:f((()=>[x("否")])),_:1})):C("",!0)]),y("p",null,[te,y("span",null,w(e.details.exteriorName),1),x("      "),"0"!=e.details.exterior?(c(),p("span",ae,"类型：")):C("",!0),y("span",null,w(e.details.dictName),1)]),y("p",null,[le,y("span",null,w(n.dateFormat("YYYY-mm-dd HH:MM:SS",e.details.checkoutDate)),1)]),y("p",null,[ne,y("span",null,w(e.details.checkoutUser),1)]),e.details.alterReason?(c(),p("p",ie,[oe,y("span",null,w(e.details.alterReason),1)])):C("",!0),"0"!=e.details.exterior?(c(),p("div",se,[(c(!0),p(g,null,v(e.fileList,((t,a)=>(c(),D(de,{style:{margin:"0 2%"},onClick:t=>n.seeImg(e.fileList),width:"45%",height:"8rem",fit:"cover",position:"left",src:t},null,8,["onClick","src"])))),256))])):C("",!0),h(R)])])))),256))])):C("",!0)]),h(re,{show:n.showImage,"onUpdate:show":t[2]||(t[2]=e=>n.showImage=e),images:n.listData.filePathList,closeable:!0,loop:!1,closeOnPopstate:!0},null,8,["show","images"])])),_:1},8,["modelValue"])],64)}],["__scopeId","data-v-df89f3fe"]]))}}}));
