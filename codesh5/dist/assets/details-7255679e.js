import{_ as x,a as F,k as Y,r as k,m as M,n as N,E as L,o as _,c as D,d as t,b as l,w as f,A as I,i as C,s as H,N as B,I as R,R as V,H as c,e as n,F as U,z as A,G as S,L as E,M as O,X as z,O as P,K as Q,p as T,f as q}from"./index-c95c94d5.js";/* empty css              *//* empty css              *//* empty css              */import"./base-46fb9ec7.js";import{E as G}from"./el-card-15bc174e.js";import{c as K}from"./auditing-a8c407cd.js";const X={setup(){const u=F(),y=Y(),w=k(!1),o=k(""),m=M({yjtJyInformationDetails:{},yjtJyInformationFileList:[]});m.yjtJyInformationDetails=JSON.parse(decodeURIComponent(y.query.yjtJyInformationDetails)),N(()=>{m.yjtJyInformationDetails.exterior!="0"&&J(m.yjtJyInformationDetails.yjtJyInformationDetailsId)});const v=()=>{u.back()},j=()=>{w.value=!0},g=d=>{if(o.value=="")return C({message:"请填写审核内容",type:"fail",className:"particulars-detail-popup"}),!1;let s={},a={},r={},p={};s.id=m.yjtJyInformationDetails.id,s.yjtJyInformationId=m.yjtJyInformationDetails.yjtJyInformationId,s.yjtJyInformationDetailsId=m.yjtJyInformationDetails.yjtJyInformationDetailsId,s.auditorContent=o.value,s.status=d,p.data=s,r.paramBlock=p,a.blocks=r;let e="";d=="1"?e="驳回":e="通过",H({title:"提示",width:"600",message:"是否"+e+"这条数据？"}).then(()=>{K(a).then(h=>{h.data.status=="0"&&(C({message:h.data.returnMsg,type:"success",className:"particulars-detail-popup",overlay:!0}),u.back())}).catch(h=>{console.log(h)})}).catch(h=>{console.log(h)})};function J(d){let s={};s.yjtJyInformationDetailsId=d,L(s).then(a=>{console.log(a),m.yjtJyInformationFileList=a.data.data}).catch(a=>{console.log(a)})}return{listData:m,showImage:w,auditorContent:o,seeImg:j,onClickLeft:v,dateFormat:(d,s)=>{let a,r=new Date(s);const p={"Y+":r.getFullYear().toString(),"m+":(r.getMonth()+1).toString(),"d+":r.getDate().toString(),"H+":r.getHours().toString(),"M+":r.getMinutes().toString(),"S+":r.getSeconds().toString()};for(let e in p)a=new RegExp("("+e+")").exec(d),a&&(d=d.replace(a[1],a[1].length==1?p[e]:p[e].padStart(a[1].length,"0")));return d},cathodeCopperAuditorClick:g}}},i=u=>(T("data-v-e1fdf2a4"),u=u(),q(),u),W={class:"container"},Z={class:"header"},$=i(()=>t("span",{style:{"font-weight":"bold"}},"编号：",-1)),tt=i(()=>t("span",{style:{"font-weight":"bold"}},"重量：",-1)),ot=i(()=>t("span",{style:{"font-weight":"bold"}},"标准：",-1)),at=i(()=>t("span",{style:{"font-weight":"bold"}},"计量员：",-1)),et=i(()=>t("span",{style:{"font-weight":"bold"}},"扫描人：",-1)),nt=i(()=>t("span",{style:{"font-weight":"bold"}},"生产日期：",-1)),st=i(()=>t("span",{style:{"font-weight":"bold"}},"品级分类：",-1)),lt={key:0,style:{"font-weight":"bold"}},it=i(()=>t("span",{style:{"font-weight":"bold"}},"质检时间：",-1)),rt=i(()=>t("span",{style:{"font-weight":"bold"}},"质检人：",-1)),dt={key:0},ct={key:2},yt=i(()=>t("span",{style:{"font-weight":"bold"}},"状态：",-1)),mt=i(()=>t("span",{style:{"font-weight":"bold"}},"审核人：",-1)),ft=i(()=>t("span",{style:{"font-weight":"bold"}},"审核时间：",-1)),pt=i(()=>t("span",{style:{"font-weight":"bold"}},"审核内容：",-1)),_t={key:0,style:{"margin-top":"30px"}};function ut(u,y,w,o,m,v){const j=B,g=E,J=O,b=z,d=G,s=R,a=P,r=Q,p=V;return _(),D("div",W,[t("div",Z,[l(j,{title:"审核详情",class:"page-nav-bar","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"])]),t("div",null,[l(d,{class:"box-card",shadow:"always",style:{"margin-top":"5px"}},{default:f(()=>[l(g,{"content-position":"left"},{default:f(()=>[c("基本信息")]),_:1}),t("div",null,[t("p",null,[$,t("span",null,n(o.listData.yjtJyInformationDetails.batchnumber),1)]),t("p",null,[tt,t("span",null,n(parseFloat(o.listData.yjtJyInformationDetails.suttle))+n(o.listData.yjtJyInformationDetails.unit),1)]),t("p",null,[ot,t("span",null,n(o.listData.yjtJyInformationDetails.standard),1)]),t("p",null,[at,t("span",null,n(o.listData.yjtJyInformationDetails.suttleperson),1),c("     "),et,t("span",null,n(o.listData.yjtJyInformationDetails.scanUser),1)]),t("p",null,[nt,c(n(o.dateFormat("YYYY-mm-dd HH:MM:SS",o.listData.yjtJyInformationDetails.proDate)),1)])]),l(g,{"content-position":"left"},{default:f(()=>[c("质检信息")]),_:1}),t("div",null,[t("p",null,[st,t("span",null,n(o.listData.yjtJyInformationDetails.exteriorName),1),c("     "),o.listData.yjtJyInformationDetails.exterior!="0"?(_(),D("span",lt,"类型：")):I("",!0),t("span",null,n(o.listData.yjtJyInformationDetails.dictName),1)]),t("p",null,[it,c(n(o.dateFormat("YYYY-mm-dd HH:MM:SS",o.listData.yjtJyInformationDetails.checkoutDate)),1)]),t("p",null,[rt,t("span",null,n(o.listData.yjtJyInformationDetails.checkoutUser),1)])]),o.listData.yjtJyInformationDetails.exterior!="0"?(_(),D("div",dt,[(_(!0),D(U,null,A(o.listData.yjtJyInformationFileList,(e,h)=>(_(),S(J,{style:{margin:"0 2%"},onClick:o.seeImg,width:"45%",height:"8rem",fit:"cover",position:"left",src:e},null,8,["onClick","src"]))),256))])):I("",!0),o.listData.yjtJyInformationDetails.status=="0"?(_(),S(b,{key:1,modelValue:o.auditorContent,"onUpdate:modelValue":y[0]||(y[0]=e=>o.auditorContent=e),rows:"5",autosize:"",label:"审核内容",type:"textarea",maxlength:"50",placeholder:"请输入审核内容","show-word-limit":""},null,8,["modelValue"])):I("",!0),o.listData.yjtJyInformationDetails.status!="0"?(_(),D("div",ct,[l(g,{"content-position":"left"},{default:f(()=>[c("审核信息")]),_:1}),t("p",null,[yt,t("span",null,n(o.listData.yjtJyInformationDetails.status==="0"?"未审核":o.listData.yjtJyInformationDetails.status==="1"?"驳回":"通过"),1),c("     "),mt,t("span",null,n(o.listData.yjtJyInformationDetails.auditorUserName),1)]),t("p",null,[ft,c(n(o.dateFormat("YYYY-mm-dd HH:MM:SS",o.listData.yjtJyInformationDetails.auditorDate)),1)]),t("p",null,[pt,t("span",null,n(o.listData.yjtJyInformationDetails.auditorContent),1)])])):I("",!0)]),_:1})]),l(s,{show:o.showImage,"onUpdate:show":y[1]||(y[1]=e=>o.showImage=e),images:o.listData.yjtJyInformationFileList,closeable:!0,loop:!1,closeOnPopstate:!0},null,8,["show","images"]),o.listData.yjtJyInformationDetails.status=="0"?(_(),D("div",_t,[l(p,null,{default:f(()=>[l(a,{span:"5"}),l(a,{span:"7"},{default:f(()=>[l(r,{type:"danger",style:{width:"90%"},onClick:y[2]||(y[2]=e=>o.cathodeCopperAuditorClick("1"))},{default:f(()=>[c("驳回")]),_:1})]),_:1}),l(a,{span:"7"},{default:f(()=>[l(r,{type:"success",style:{width:"90%"},onClick:y[3]||(y[3]=e=>o.cathodeCopperAuditorClick("2"))},{default:f(()=>[c("通过")]),_:1})]),_:1}),l(a,{span:"5"})]),_:1})])):I("",!0)])}const vt=x(X,[["render",ut],["__scopeId","data-v-e1fdf2a4"]]);export{vt as default};
