import{E as S,a as D}from"./el-table-column-2d1f79cb.js";import{_ as g,r,u as P,a as V,o as y,c as R,b as t,d as l,w as d,s as T,e as N,f as I,g as x,N as L,C as U,F as B,h as E,D as F,P as Q,p as j,i as q}from"./index-7bfc592a.js";/* empty css              *//* empty css              */import{c as A}from"./chukudan-55218b6f.js";import{_ as G}from"./btn_chaxun3-17dac2a0.js";import{_ as H}from"./btn_queren-a649dfc1.js";import{_ as z}from"./btn_shoudong-49ae805b.js";import"./request-59e17e0c.js";let b="";const J={mounted(){b=this.$refs.formRef},setup(){const s=r(""),e=r(""),u=r(""),o=r(!1),C=r(!1),m=P(),_=V();let i=r([]);const h=({selectedValues:a})=>{s.value=a.join("-"),o.value=!1},p=({selectedValues:a})=>{e.value=a.join("-"),C.value=!1},v=()=>history.back(),w=()=>{b.submit()},k=()=>{T({duration:0,message:"加载中..."}),A({startTime:s.value.replaceAll("-","-")+" 00:00:00",endTime:e.value.replaceAll("-","-")+" 23:59:59"},0).then(a=>{N(),i.value=a.data.value.records})};let f="";return{startDate:s,endDate:e,showPicker:o,showPicker2:C,onClickLeft:v,onConfirm:h,onConfirm2:p,onSubmit:k,onQuery:w,tableData:i,selectRow:(a,so,io)=>{f=a.plateNo},confirmSelect:()=>{if(f){let a=m.state.chukudan;a.chehao=f,m.commit("setChukudan",a),_.push({name:"chukudanDetails"})}else I("请选择正确的行！")},handleConfirmSelect:()=>{if(u.value){let a=m.state.chukudan;a.chehao=u.value,m.commit("setChukudan",a),_.push({name:"chukudanDetails"})}else x({message:"请手工录入车号！",type:"fail"})},chehao:u}}},c=s=>(j("data-v-2ff28f0a"),s=s(),q(),s),K={class:"table-content container"},M={class:"btn-area"},O=c(()=>l("img",{src:G,alt:""},null,-1)),W=c(()=>l("div",null,"查询",-1)),X=[O,W],Y=c(()=>l("img",{src:H,alt:""},null,-1)),Z=c(()=>l("div",null,"确认",-1)),$=[Y,Z],oo=c(()=>l("img",{src:z,alt:""},null,-1)),eo=c(()=>l("div",null,"手动确认",-1)),no=[oo,eo];function to(s,e,u,o,C,m){const _=L,i=E,h=F,p=Q,v=U,w=B,k=D,f=S;return y(),R("main",null,[t(_,{title:"选择车号",class:"page-nav-bar","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),l("div",K,[t(w,{onSubmit:o.onSubmit,id:"form-area",ref:"formRef"},{default:d(()=>[t(v,{inset:""},{default:d(()=>[t(i,{modelValue:o.startDate,"onUpdate:modelValue":e[0]||(e[0]=n=>o.startDate=n),"is-link":"",readonly:"",name:"startDate",label:"开始日期",placeholder:"点击选择时间",onClick:e[1]||(e[1]=n=>o.showPicker=!0),rules:[{required:!0,message:"请选择"}]},null,8,["modelValue"]),t(p,{show:o.showPicker,"onUpdate:show":e[3]||(e[3]=n=>o.showPicker=n),position:"bottom"},{default:d(()=>[t(h,{onConfirm:o.onConfirm,onCancel:e[2]||(e[2]=n=>o.showPicker=!1)},null,8,["onConfirm"])]),_:1},8,["show"]),t(i,{modelValue:o.endDate,"onUpdate:modelValue":e[4]||(e[4]=n=>o.endDate=n),"is-link":"",readonly:"",name:"endDate",label:"结束日期",placeholder:"点击选择时间",onClick:e[5]||(e[5]=n=>o.showPicker2=!0),rules:[{required:!0,message:"请选择"}]},null,8,["modelValue"]),t(p,{show:o.showPicker2,"onUpdate:show":e[7]||(e[7]=n=>o.showPicker2=n),position:"bottom"},{default:d(()=>[t(h,{onConfirm:o.onConfirm2,onCancel:e[6]||(e[6]=n=>o.showPicker2=!1)},null,8,["onConfirm"])]),_:1},8,["show"])]),_:1})]),_:1},8,["onSubmit"]),t(f,{data:o.tableData,border:"",id:"data-area",onRowClick:o.selectRow},{default:d(()=>[t(k,{prop:"plateNo",label:"车号"}),t(k,{prop:"contractNo",label:"单据号"})]),_:1},8,["data","onRowClick"]),l("div",null,[t(v,{inset:""},{default:d(()=>[t(i,{modelValue:o.chehao,"onUpdate:modelValue":e[8]||(e[8]=n=>o.chehao=n),label:"车号",placeholder:"请输入车号"},null,8,["modelValue"])]),_:1}),l("div",M,[l("div",{onClick:e[9]||(e[9]=(...n)=>o.onQuery&&o.onQuery(...n))},X),l("div",{onClick:e[10]||(e[10]=(...n)=>o.confirmSelect&&o.confirmSelect(...n))},$),l("div",{onClick:e[11]||(e[11]=(...n)=>o.handleConfirmSelect&&o.handleConfirmSelect(...n))},no)])])])])}const ko=g(J,[["render",to],["__scopeId","data-v-2ff28f0a"]]);export{ko as default};
