import{E as P,a as g}from"./el-table-column-80d5e418.js";import{_ as y,r as i,u as V,a as R,o as T,c as N,b as t,d as a,w as d,s as w,e as S,f as I,g as x,N as B,C as L,F as U,h as q,D as E,P as F,p as Q,i as j}from"./index-36f8c2b2.js";/* empty css              */import{c as G,q as H}from"./chukudan-7449aaf4.js";import{_ as z}from"./btn_chaxun3-17dac2a0.js";import{_ as A}from"./btn_queren-a649dfc1.js";import{_ as J}from"./btn_shoudong-49ae805b.js";let D="";const K={mounted(){D=this.$refs.formRef},setup(){const s=i(""),e=i(""),f=i(""),o=i(!1),C=i(!1),b=V(),u=R();let r=i([]);const _=({selectedValues:l})=>{s.value=l.join("-"),o.value=!1},p=({selectedValues:l})=>{e.value=l.join("-"),C.value=!1},v=()=>history.back(),k=()=>{D.submit()},h=()=>{w({duration:0,message:"加载中..."}),G({startTime:s.value.replace("/","-").replace("/","-")+" 00:00:00",endTime:e.value.replace("/","-").replace("/","-")+" 23:59:59"},0).then(l=>{r.value=l.data.value.records})};let m="";return{startDate:s,endDate:e,showPicker:o,showPicker2:C,onClickLeft:v,onConfirm:_,onConfirm2:p,onSubmit:h,onQuery:k,tableData:r,selectRow:(l,ro,io)=>{m=l},confirmSelect:()=>{m?(b.commit("setCarInfo",m),u.push({name:"chukudanDetails"})):S("请选择正确的行！")},handleConfirmSelect:()=>{f.value?(w(),H(f.value).then(l=>{if(I(),l.data.value)b.commit("setCarInfo",l.data.value),u.push({name:"chukudanDetails"});else{S("请输入正确的车号");return}})):x({message:"请手工录入车号！",type:"fail"})},chehao:f}}},c=s=>(Q("data-v-8b44bdff"),s=s(),j(),s),M={class:"table-content container"},O={class:"btn-area"},W=c(()=>a("img",{src:z,alt:""},null,-1)),X=c(()=>a("div",null,"查询",-1)),Y=[W,X],Z=c(()=>a("img",{src:A,alt:""},null,-1)),$=c(()=>a("div",null,"确认",-1)),oo=[Z,$],eo=c(()=>a("img",{src:J,alt:""},null,-1)),no=c(()=>a("div",null,"手动确认",-1)),to=[eo,no];function ao(s,e,f,o,C,b){const u=B,r=q,_=E,p=F,v=L,k=U,h=g,m=P;return T(),N("main",null,[t(u,{title:"选择车号",class:"page-nav-bar","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),a("div",M,[t(k,{onSubmit:o.onSubmit,id:"form-area",ref:"formRef"},{default:d(()=>[t(v,{inset:""},{default:d(()=>[t(r,{modelValue:o.startDate,"onUpdate:modelValue":e[0]||(e[0]=n=>o.startDate=n),"is-link":"",readonly:"",name:"startDate",label:"开始日期",placeholder:"点击选择时间",onClick:e[1]||(e[1]=n=>o.showPicker=!0),rules:[{required:!0,message:"请选择"}]},null,8,["modelValue"]),t(p,{show:o.showPicker,"onUpdate:show":e[3]||(e[3]=n=>o.showPicker=n),position:"bottom"},{default:d(()=>[t(_,{onConfirm:o.onConfirm,onCancel:e[2]||(e[2]=n=>o.showPicker=!1)},null,8,["onConfirm"])]),_:1},8,["show"]),t(r,{modelValue:o.endDate,"onUpdate:modelValue":e[4]||(e[4]=n=>o.endDate=n),"is-link":"",readonly:"",name:"endDate",label:"结束日期",placeholder:"点击选择时间",onClick:e[5]||(e[5]=n=>o.showPicker2=!0),rules:[{required:!0,message:"请选择"}]},null,8,["modelValue"]),t(p,{show:o.showPicker2,"onUpdate:show":e[7]||(e[7]=n=>o.showPicker2=n),position:"bottom"},{default:d(()=>[t(_,{onConfirm:o.onConfirm2,onCancel:e[6]||(e[6]=n=>o.showPicker2=!1)},null,8,["onConfirm"])]),_:1},8,["show"])]),_:1})]),_:1},8,["onSubmit"]),t(m,{data:o.tableData,border:"",id:"data-area",onRowClick:o.selectRow},{default:d(()=>[t(h,{prop:"plateNo",label:"车号"}),t(h,{prop:"contractNo",label:"单据号"})]),_:1},8,["data","onRowClick"]),a("div",null,[t(v,{inset:""},{default:d(()=>[t(r,{modelValue:o.chehao,"onUpdate:modelValue":e[8]||(e[8]=n=>o.chehao=n),label:"车号",placeholder:"请输入车号"},null,8,["modelValue"])]),_:1}),a("div",O,[a("div",{onClick:e[9]||(e[9]=(...n)=>o.onQuery&&o.onQuery(...n))},Y),a("div",{onClick:e[10]||(e[10]=(...n)=>o.confirmSelect&&o.confirmSelect(...n))},oo),a("div",{onClick:e[11]||(e[11]=(...n)=>o.handleConfirmSelect&&o.handleConfirmSelect(...n))},to)])])])])}const ho=y(K,[["render",ao],["__scopeId","data-v-8b44bdff"]]);export{ho as default};
