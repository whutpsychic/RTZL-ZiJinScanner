import{_ as g,r,a as b,u as h,o as y,h9 as v,b as w,c as V,d as n,w as u,i as m,V as k,aa as S,H as U,I as f,a1 as F,a2 as x,Y as C,a3 as N}from"./index-703aaad1.js";import{a as B,b as H}from"./user-3dafca17.js";const P={setup(){const d=r(""),t=r(""),i=r(""),e=b(),p=h();return history.pushState(null,null,document.URL),window.addEventListener("popstate",function(s){history.pushState(null,null,document.URL)},!1),y(()=>{i.value=document.documentElement.clientHeight}),v({duration:500}),{bodyHeight:i,inputUser:d,inputPw:t,onSubmit:s=>{B(s).then(l=>{H().then(o=>{o.data.code?o.data.code==200&&(e.commit("setUser",o.data.data),f({message:"登录成功",type:"success",className:"particulars-detail-popup",overlay:!0}),p.push({path:"/home"})):f({message:"登录失败",type:"fail",className:"particulars-detail-popup"})}).catch(o=>{console.log(o)})}).catch(l=>{console.log(l)})},ipconfigClick:()=>{U.ipconfig()}}}},E={class:"login-btn-area"};function L(d,t,i,e,p,_){const c=F,s=x,l=C,o=N;return w(),V("div",{class:"container",style:S({height:e.bodyHeight+"px"})},[n(o,{onSubmit:e.onSubmit},{default:u(()=>[m("div",{class:"title",onDblclick:t[0]||(t[0]=(...a)=>e.ipconfigClick&&e.ipconfigClick(...a))},"阴极铜条码管理系统",32),n(s,{inset:"",style:{width:"96%",position:"relative",left:"2%"}},{default:u(()=>[n(c,{"left-icon":"friends",modelValue:e.inputUser,"onUpdate:modelValue":t[1]||(t[1]=a=>e.inputUser=a),name:"inputUser",label:"用户名",autocomplete:"off",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),n(c,{"left-icon":"bag",modelValue:e.inputPw,"onUpdate:modelValue":t[2]||(t[2]=a=>e.inputPw=a),type:"password",name:"inputPw",label:"密码",placeholder:"密码",autocomplete:"off",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),m("div",E,[n(l,{round:"",block:"",style:{"background-color":"#d77100",color:"#FFFFFF","margin-top":"50px"},type:"primary","native-type":"submit"},{default:u(()=>[k(" 登录 ")]),_:1})])]),_:1},8,["onSubmit"])],4)}const q=g(P,[["render",L],["__scopeId","data-v-e0c3739d"]]);export{q as default};
