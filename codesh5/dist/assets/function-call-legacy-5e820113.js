System.register(["./mount-component-legacy-2eb7189b.js","./index-legacy-89a34e7c.js","./index-legacy-043578f0.js"],(function(t,e){"use strict";var n,o,l,a,s,c,i,r,u,d,m,f,B,g,b,h,p,v,C,w,y,x,k,S,T,D,O,P,A,H,j,z,N;return{setters:[t=>{n=t.u,o=t.p,l=t.b,a=t.P,s=t.c,c=t.m,i=t.d},t=>{r=t.c,u=t.d,d=t.p,m=t.i,f=t.t,B=t.a,g=t.w,b=t.e,h=t.r,p=t.u,v=t.f,C=t.a2,w=t.n,y=t.a4,x=t.a8,k=t.W,S=t.h,T=t.a5,D=t.b,O=t.aL,P=t.ba,A=t.bb,H=t.bc,j=t.B,z=t.ah},t=>{N=t.u}],execute:function(){t("a",_);const[e,E]=r("action-bar"),F=Symbol(e),I={placeholder:Boolean,safeAreaInsetBottom:f};var L=u({name:e,props:I,setup(t,{slots:e}){const n=d(),o=N(n,E),{linkChildren:l}=m.useChildren(F);l();const a=()=>{var o;return B("div",{ref:n,class:[E(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[null==(o=e.default)?void 0:o.call(e)])};return()=>t.placeholder?o(a):a()}});const U=g(L),[K,M]=r("action-bar-button"),R=b({},h,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var W=u({name:K,props:R,setup(t,{slots:e}){const o=p(),{parent:l,index:a}=m.useParent(F),s=v((()=>{if(l){const t=l.children[a.value-1];return!(t&&"isButton"in t)}})),c=v((()=>{if(l){const t=l.children[a.value+1];return!(t&&"isButton"in t)}}));return n({isButton:!0}),()=>{const{type:n,icon:l,text:a,color:i,loading:r,disabled:u}=t;return B(C,{class:M([n,{last:c.value,first:s.value}]),size:"large",type:n,icon:l,color:i,loading:r,disabled:u,onClick:o},{default:()=>[e.default?e.default():a]})}}});const q=g(W),[G,J,Q]=r("dialog"),V=b({},o,{title:String,theme:String,width:w,message:[String,Function],callback:Function,allowHtml:Boolean,className:y,transition:x("van-dialog-bounce"),messageAlign:String,closeOnPopstate:f,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:f,closeOnClickOverlay:Boolean}),X=[...l,"transition","closeOnPopstate"];var Y=t("b",u({name:G,props:V,emits:["confirm","cancel","keydown","update:show"],setup(t,{emit:e,slots:n}){const o=d(),l=k({confirm:!1,cancel:!1}),c=t=>e("update:show",t),i=e=>{var n;c(!1),null==(n=t.callback)||n.call(t,e)},r=n=>()=>{t.show&&(e(n),t.beforeClose?(l[n]=!0,s(t.beforeClose,{args:[n],done(){i(n),l[n]=!1},canceled(){l[n]=!1}})):i(n))},u=r("cancel"),m=r("confirm"),f=O((n=>{var l,a;n.target===(null==(a=null==(l=o.value)?void 0:l.popupRef)?void 0:a.value)&&({Enter:t.showConfirmButton?m:P,Escape:t.showCancelButton?u:P}[n.key](),e("keydown",n))}),["enter","esc"]),g=()=>{const e=n.title?n.title():t.title;if(e)return B("div",{class:J("header",{isolated:!t.message&&!n.default})},[e])},b=e=>{const{message:n,allowHtml:o,messageAlign:l}=t,a=J("message",{"has-title":e,[l]:l}),s=A(n)?n():n;return o&&"string"==typeof s?B("div",{class:a,innerHTML:s},null):B("div",{class:a},[s])},h=()=>{if(n.default)return B("div",{class:J("content")},[n.default()]);const{title:e,message:o,allowHtml:l}=t;if(o){const t=!(!e&&!n.title);return B("div",{key:l?1:0,class:J("content",{isolated:!t})},[b(t)])}},p=()=>n.footer?n.footer():"round-button"===t.theme?B(U,{class:J("footer")},{default:()=>[t.showCancelButton&&B(q,{type:"warning",text:t.cancelButtonText||Q("cancel"),class:J("cancel"),color:t.cancelButtonColor,loading:l.cancel,disabled:t.cancelButtonDisabled,onClick:u},null),t.showConfirmButton&&B(q,{type:"danger",text:t.confirmButtonText||Q("confirm"),class:J("confirm"),color:t.confirmButtonColor,loading:l.confirm,disabled:t.confirmButtonDisabled,onClick:m},null)]}):B("div",{class:[j,J("footer")]},[t.showCancelButton&&B(C,{size:"large",text:t.cancelButtonText||Q("cancel"),class:J("cancel"),style:{color:t.cancelButtonColor},loading:l.cancel,disabled:t.cancelButtonDisabled,onClick:u},null),t.showConfirmButton&&B(C,{size:"large",text:t.confirmButtonText||Q("confirm"),class:[J("confirm"),{[H]:t.showCancelButton}],style:{color:t.confirmButtonColor},loading:l.confirm,disabled:t.confirmButtonDisabled,onClick:m},null)]);return()=>{const{width:e,title:n,theme:l,message:s,className:i}=t;return B(a,S({ref:o,role:"dialog",class:[J([l]),i],style:{width:D(e)},tabindex:0,"aria-labelledby":n||s,onKeydown:f,"onUpdate:show":c},T(t,X)),{default:()=>[g(),h(),p()]})}}}));let Z,$=b({},{title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1});function _(t){return z?new Promise(((e,n)=>{Z||function(){const t={setup(){const{state:t,toggle:e}=i();return()=>B(Y,S(t,{"onUpdate:show":e}),null)}};({instance:Z}=c(t))}(),Z.open(b({},$,t,{callback:t=>{("confirm"===t?e:n)(t)}}))})):Promise.resolve()}t("s",(t=>_(b({showCancelButton:!0},t))))}}}));
