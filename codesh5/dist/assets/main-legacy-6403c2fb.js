System.register(["./el-tag-legacy-3631ff16.js","./el-overlay-legacy-a58ed750.js","./index-legacy-e566b6ee.js","./el-card-legacy-9c546c23.js","./index-legacy-2f76a666.js","./qualityCheckingRecord-legacy-ee3ece86.js","./index-legacy-eda59a38.js","./index-legacy-c47127f6.js","./use-global-config-legacy-23cb7ed7.js","./objects-legacy-c7a21acd.js"],(function(e,t){"use strict";var a,l,n,i,o,s,d,c,r,u,p,y,h,g,f,m,k,b,v,w,D,x,C,j,L,I,S,_,J,q,F,N,V;return{setters:[null,e=>{a=e.E},e=>{l=e._,n=e.u,i=e.r,o=e.H,s=e.I,d=e.J,c=e.o,r=e.b,u=e.c,p=e.i,y=e.d,h=e.w,g=e.F,f=e.N,m=e.a9,k=e.aa,b=e.O,v=e.e,w=e.j,D=e.W,x=e.f,C=e.X,j=e.ac,L=e.$,I=e.V,S=e.p,_=e.h,J=e.a0},e=>{q=e.E},null,e=>{F=e.a,N=e.q},null,e=>{V=e.E},null,null],execute:function(){var t=document.createElement("style");t.textContent=".header[data-v-1c2a97ad]{width:100%;height:95px;line-height:95px;position:absolute;z-index:5;top:0}.content[data-v-1c2a97ad]{width:100%;overflow:scroll;top:95px;position:absolute;z-index:10;bottom:5px}\n",document.head.appendChild(t);const R={setup(){const e=n(),t=i(""),a=i(!1),l=o({qualityCheckingList:[],yjtJyInformationData:{},yjtJyInformationDecideDataList:[],filePathList:[]}),r=i(!1),u=i(!1),p=i(!1),y=i(10),h=i(0);s.await("scanner",(t=>{"/qualityCheckingRecord"==e.currentRoute.value.path&&("null"!=t?(l.qualityCheckingList=[],h.value=1,p.value=!0,f({batchnumber:"",barcode:t})):d({message:"数据获取失败",type:"fail",className:"particulars-detail-popup"}))})),c((()=>{h.value=1,f({batchnumber:t.value,barcode:""})}));const g=e=>{N(e).then((e=>{l.yjtJyInformationDecideDataList=e.data.data})).catch((e=>{console.log(e)}))},f=e=>{u.value=!0;let t={},a={},n={};n.limit=y.value,n.offset=h.value,n.blockId="paramBlock",n.data=e,a.paramBlock=n,t.blocks=a,F(t).then((e=>{l.qualityCheckingList=[...l.qualityCheckingList,...e.data.blocks.resultBlock.data],u.value=!1,l.qualityCheckingList.length==e.data.blocks.resultBlock.total&&(p.value=!0)})).catch((e=>{console.log(e)}))};return{showImage:r,centerDialogVisible:a,searchValue:t,loading:u,finished:p,limit:y,offset:h,listData:l,onClickLeft:()=>{e.push({path:"/home"})},onLoad:()=>{h.value=h.value+1,f({batchnumber:t.value,barcode:""})},statusChange:()=>{h.value=1,l.qualityCheckingList=[],p.value=!1,f({batchnumber:t.value,barcode:""})},dateFormat:(e,t)=>{let a,l=new Date(t);const n={"Y+":l.getFullYear().toString(),"m+":(l.getMonth()+1).toString(),"d+":l.getDate().toString(),"H+":l.getHours().toString(),"M+":l.getMinutes().toString(),"S+":l.getSeconds().toString()};for(let i in n)a=new RegExp("("+i+")").exec(e),a&&(e=e.replace(a[1],1==a[1].length?n[i]:n[i].padStart(a[1].length,"0")));return e},onSearch:()=>{h.value=1,l.qualityCheckingList=[],p.value=!1,f({batchnumber:t.value,barcode:""})},qualityCheckingRecordDetails:e=>{if(l.yjtJyInformationData=e,"1"==e.state){let t={yjtJyInformationId:e.id,status:"2"};g(t)}a.value=!0},scanClick:()=>{s.scan()},seeImg:e=>{l.filePathList=[],l.filePathList=e,r.value=!0},getQualityCheckingRecordDecide:g,getQualityCheckingRecord:f}}},Y=e=>(S("data-v-1c2a97ad"),e=e(),_(),e),H={class:"header"},M={style:{display:"flex","background-color":"#ffffff"}},U={id:"content",class:"content"},z={style:{padding:"0px 5px 5px 5px"}},E=Y((()=>p("span",{style:{"font-weight":"bold"}},"编号：",-1))),P=Y((()=>p("span",{style:{"font-weight":"bold"}},"重量：",-1))),B={key:0,style:{"margin-left":"30px"}},O={key:0},Q={key:1},W={key:2},X={style:{"overflow-y":"auto","overscroll-behavior-y":"contain",height:"calc(100vh - 180px)"}},$=Y((()=>p("span",{style:{"font-weight":"bold"}},"编号：",-1))),A=Y((()=>p("span",{style:{"font-weight":"bold"}},"重量：",-1))),G=Y((()=>p("span",{style:{"font-weight":"bold"}},"标准：",-1))),K=Y((()=>p("span",{style:{"font-weight":"bold"}},"计量员：",-1))),T=Y((()=>p("span",{style:{"font-weight":"bold"}},"扫描人：",-1))),Z=Y((()=>p("span",{style:{"font-weight":"bold"}},"生产日期：",-1))),ee={key:0},te=Y((()=>p("span",{style:{"font-weight":"bold"}},"是否最新：",-1))),ae=Y((()=>p("span",{style:{"font-weight":"bold"}},"品级分类：",-1))),le={key:0,style:{"font-weight":"bold"}},ne=Y((()=>p("span",{style:{"font-weight":"bold"}},"质检时间：",-1))),ie=Y((()=>p("span",{style:{"font-weight":"bold"}},"质检人：",-1))),oe={key:0},se=Y((()=>p("span",{style:{"font-weight":"bold"}},"改判理由：",-1))),de={key:1},ce=Y((()=>p("span",{style:{"font-weight":"bold"}},"备注：",-1))),re={key:2};e("default",l(R,[["render",function(e,t,l,n,i,o){const s=C,d=f,c=m,S=V,_=j,F=q,N=k,R=L,Y=J,ue=I,pe=a;return r(),u(g,null,[p("div",H,[y(d,{title:"质检记录列表",class:"page-nav-bar","left-arrow":"",onClickLeft:n.onClickLeft},{right:h((()=>[y(s,{onClick:n.scanClick,style:{color:"#FFFFFF"},name:"scan",size:"40"},null,8,["onClick"])])),_:1},8,["onClickLeft"]),p("div",M,[y(c,{style:{width:"100%"},modelValue:n.searchValue,"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchValue=e),shape:"round",placeholder:"请输入编号搜索",onSearch:n.onSearch},null,8,["modelValue","onSearch"])])]),p("div",U,[y(N,{loading:n.loading,"onUpdate:loading":t[1]||(t[1]=e=>n.loading=e),finished:n.finished,"immediate-check":!1,"finished-text":"没有更多了",onLoad:n.onLoad},{default:h((()=>[p("div",z,[(r(!0),u(g,null,b(n.listData.qualityCheckingList,((e,t)=>(r(),v(F,{class:"box-card",shadow:"always",style:{"margin-top":"5px"},onClick:t=>n.qualityCheckingRecordDetails(e)},{default:h((()=>[p("div",null,[p("p",null,[E,p("span",null,w(e.batchnumber),1)]),p("p",null,[P,p("span",null,w(parseFloat(e.suttle))+w(e.unit),1),e.exteriorName?(r(),u("span",B,["优等品"==e.exteriorName?(r(),u("span",O,[y(S,null,{default:h((()=>[D(w(e.exteriorName),1)])),_:2},1024)])):x("",!0),"合格"==e.exteriorName?(r(),u("span",Q,[y(S,{type:"warning"},{default:h((()=>[D(w(e.exteriorName),1)])),_:2},1024)])):x("",!0),"不合格"==e.exteriorName?(r(),u("span",W,[y(S,{type:"danger"},{default:h((()=>[D(w(e.exteriorName),1)])),_:2},1024)])):x("",!0)])):x("",!0)]),"0"==e.state?(r(),v(_,{key:0,type:"primary",size:"large"},{default:h((()=>[D("未质检")])),_:1})):x("",!0),"1"==e.state?(r(),v(_,{key:1,type:"success",size:"large"},{default:h((()=>[D("已质检")])),_:1})):x("",!0)])])),_:2},1032,["onClick"])))),256))])])),_:1},8,["loading","finished","onLoad"])]),y(pe,{modelValue:n.centerDialogVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>n.centerDialogVisible=e),"destroy-on-close":!0,title:"质检记录详情",width:"96%","align-center":""},{default:h((()=>[p("div",X,[p("div",null,[y(R,{"content-position":"left"},{default:h((()=>[D("基本信息")])),_:1}),p("p",null,[$,p("span",null,w(n.listData.yjtJyInformationData.batchnumber),1)]),p("p",null,[A,p("span",null,w(parseFloat(n.listData.yjtJyInformationData.suttle))+w(n.listData.yjtJyInformationData.unit),1)]),p("p",null,[G,p("span",null,w(n.listData.yjtJyInformationData.standard),1)]),p("p",null,[K,p("span",null,w(n.listData.yjtJyInformationData.suttleperson),1),D("      "),T,p("span",null,w(n.listData.yjtJyInformationData.scanUser),1)]),p("p",null,[Z,p("span",null,w(n.dateFormat("YYYY-mm-dd HH:MM:SS",n.listData.yjtJyInformationData.proDate)),1)])]),"1"==n.listData.yjtJyInformationData.state?(r(),u("div",ee,[y(R,{"content-position":"left"},{default:h((()=>[D("质检信息")])),_:1}),(r(!0),u(g,null,b(n.listData.yjtJyInformationDecideDataList,((e,t)=>(r(),u("div",null,[p("div",null,[p("p",null,[te,"0"==e.details.isNew?(r(),v(S,{key:0,type:"success"},{default:h((()=>[D("是")])),_:1})):x("",!0),"1"==e.details.isNew?(r(),v(S,{key:1,type:"danger"},{default:h((()=>[D("否")])),_:1})):x("",!0)]),p("p",null,[ae,p("span",null,w(e.details.exteriorName),1),D("      "),"0"!=e.details.exterior?(r(),u("span",le,"类型：")):x("",!0),p("span",null,w(e.details.dictName),1)]),p("p",null,[ne,p("span",null,w(n.dateFormat("YYYY-mm-dd HH:MM:SS",e.details.checkoutDate)),1)]),p("p",null,[ie,p("span",null,w(e.details.checkoutUser),1)]),e.details.alterReason?(r(),u("p",oe,[se,p("span",null,w(e.details.alterReason),1)])):x("",!0),e.details.remarks?(r(),u("p",de,[ce,p("span",null,w(e.details.remarks),1)])):x("",!0),"0"!=e.details.exterior?(r(),u("div",re,[(r(!0),u(g,null,b(e.fileList,((t,a)=>(r(),v(Y,{style:{margin:"0 2%"},onClick:t=>n.seeImg(e.fileList),width:"45%",height:"8rem",fit:"cover",position:"left",src:t},null,8,["onClick","src"])))),256))])):x("",!0),y(R)])])))),256))])):x("",!0)]),y(ue,{show:n.showImage,"onUpdate:show":t[2]||(t[2]=e=>n.showImage=e),images:n.listData.filePathList,closeable:!0,loop:!1,closeOnPopstate:!0},null,8,["show","images"])])),_:1},8,["modelValue"])],64)}],["__scopeId","data-v-1c2a97ad"]]))}}}));
